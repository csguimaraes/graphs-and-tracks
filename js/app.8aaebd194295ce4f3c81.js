webpackJsonp([0],[function(t,e,n){"use strict";var r=n(1),a=n(24);n(127),n(131),n(133),n(135),r.platformBrowserDynamic().bootstrapModule(a.AppModule)["catch"](function(t){return console.error(t)})},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(3),a=n(22),i=n(25),o=n(57),s=n(58),l=n(59),c=n(60),u=n(61),h=n(62),p=n(71),d=n(98),f=n(63),g=n(119),m=n(90),y=n(101),b=n(97),v=n(111),_=n(105),C=n(120),I=n(91),O=n(121),T=n(117),A=n(124),L=n(118),E=function(){function AppModule(){}return AppModule=__decorate([r.NgModule({imports:[a.BrowserModule,i.MdIconModule.forRoot(),o.MdToolbarModule.forRoot(),s.MdCardModule.forRoot(),l.MdGridListModule.forRoot(),c.MdListModule.forRoot(),u.MdMenuModule.forRoot(),p.APP_ROUTING],declarations:[h.AppComponent,m.HomeComponent,T.AboutComponent,b.ChallengeListComponent,A.ChallengeListItemComponent,I.TrackComponent,y.ChallengeComponent,v.TrackPanelComponent,_.GraphsPanelComponent,L.EditorComponent,O.SliderDirective,C.ScaleComponent,g.DumpPipe],providers:[p.APP_ROUTING_PROVIDERS,d.ChallengesService,f.AuthService],bootstrap:[h.AppComponent]}),__metadata("design:paramtypes",[])],AppModule)}();e.AppModule=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(3),a=n(63),i=function(){function AppComponent(t){this.auth=t}return AppComponent=__decorate([r.Component({selector:"gt-app",template:n(69),styles:[n(70)]}),__metadata("design:paramtypes",[a.AuthService])],AppComponent)}();e.AppComponent=i},function(t,e,n){"use strict";var r=n(3),a=n(64),i=function(){function AuthService(){this.user={id:"1",username:"davidtro",avatarUrl:"https://avatars2.githubusercontent.com/u/12277904?v=3&s=466",settings:a.USER_SETTINGS_DEFAULTS}}return AuthService=__decorate([r.Injectable(),__metadata("design:paramtypes",[])],AuthService)}();e.AuthService=i},function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(65)),__export(n(66)),__export(n(68)),e.GRAVITY_ACCELERATION=980.665,e.ANIMATION_DURATION=10,e.USER_SETTINGS_DEFAULTS={effects:!0,animationDuration:e.ANIMATION_DURATION},e.THEME={colors:{position:"orangered",velocity:"forestgreen",acceleration:"steelblue"}}},function(t,e){"use strict";e.HINT_MESSAGES={intro:{title:["Hints enabled"],message:"\n\t\t\tWith hints enabled, we will provide guidance on how to improve your current setup.\n\t\t\t<br> <br>\n\t\t\tFor instructions on how to use the program, select the <b>tutorial</b> icon above.\n\t\t"},position:{title:"Starting position",message:'\n\t\t\tYour ball starts at the wrong place.\n\t\t\t<br> <br>\n\t\t\tExamine the <b class="s">position graph</b> and read off the <b class="s">initial position</b> <span>(at time t=0)</span>.\n\t\t'},velocity:{title:"Initial velocity",message:'\n\t\t\tTake a careful look at the <b class="v">velocity graph</b>.\n\t\t\t<br> <br>\n\t\t\tIf the velocity at time t=0 is positive, this means the ball is initially rolling to the right;\n\t\t\t<br>\n\t\t\tif it’s negative the ball is rolling to the left.\n\t\t'},posts:{title:"Accelerations on ramps",message:'\n\t\t\tThe highlighted ramp has the wrong inclination.\n\t\t\t<br><br>\n\t\t\tTake a careful look at the <b class="a">acceleration graph</b> to see whether the acceleration\n\t\t\ton this ramp should be <b>positive</b> <span>(sloping downward to the right)</span>,\n\t\t\t<b>negative</b> <span>(sloping upward to the right)</span> or zero (level).\n\t\t\t<br> <br>\n\t\t\tHolding down the <b class="b">ROLL BALL</b> button will show the motion one segment at a time.\n\t\t'}}},function(t,e,n){"use strict";var r=n(67);e.TUTORIAL_STEPS=[{title:"Welcome to Graphs & Tracks!",message:"\n\t\t\tYour mission is to discover the true motion of a rolling ball by using the\n\t\t\tinformation provided in graphs of position, velocity and acceleration.\n\t\t"},{title:"Motion graphs",message:'\n\t\t\tTry to recreate the motion by setting the initial conditions and adjusting the tracks. When you roll the ball,\n\t\t\tyour graphs <span>(solid lines)</span> should match the challenge graphs <span>(dashed lines)</span>.\n\t\t\t<br> <br>\n\t\t\tClick on <b class="b">ROLL BALL</b>.\n\t\t',requires:[r.UI_CONTROL.ROLL_BUTTON],triggers:[r.UI_CONTROL.POSITION_GRAPH,r.UI_CONTROL.TUTORIAL_NEXT]},{title:"Position graph",message:'\n\t\t\tOn the <b class="s">POSITION</b> graph, note that the graph for the actual motion <span>(solid curve)</span>\n\t\t\tdoes NOT match the given graph (dashed). <br>\n\t\t\tYour task is to match the graphs.<br>\n\t\t\t<br>\n\t\t\tNow select the <b class="v">VELOCITY</b> graph.\n\t\t',requires:[r.UI_CONTROL.VELOCITY_GRAPH],triggers:[r.UI_CONTROL.TUTORIAL_NEXT]},{title:"Velocity graph",message:'\n\t\t\tHere is the velocity graph for this first example of motion.\n\t\t\t<br> <br>\n\t\t\tLet\'s see the <b class="a">ACCELERATION</b> graph now.\n\t\t',requires:[r.UI_CONTROL.ACCELERATION_GRAPH],triggers:[r.UI_CONTROL.TUTORIAL_NEXT]},{title:"Three graphs, any motion",message:'\n\t\t\tUse information contained in these three graphs to discover the motion of the ball which is one-dimensional <span>(along a straight line)</span>.\n\t\t\t<br> <br>\n\t\t\tNow return to the position vs. time graph by clicking on <b class="s">POSITION</b>.\n\t\t',requires:[r.UI_CONTROL.POSITION_GRAPH],triggers:[r.UI_CONTROL.TUTORIAL_NEXT]},{title:"Finding the right place",message:'\n\t\t\tNote the scale of <b class="s">INITIAL POSITION</b> directly below the tracks.\n\t\t\t<br> <br>\n\t\t\tYou can set the starting position of the ball by clicking on new position values\n\t\t\tor by dragging the scale pointers. Drag the pointers rather than the ball itself.\n\t\t',requires:[r.UI_CONTROL.POSITION_SCALE]},{title:"Setting the initial speed and direction",message:'\n\t\t\tThe ball in the challenge motion may already be moving at time t=0.\n\t\t\t<br> <br>\n\t\t\tIts initial velocity may be positive <span>(to the right)</span> or negative <span>(to the left)</span>, or zero <span>(at rest)</span>.\n\t\t\t<br> <br>\n\t\t\tUse the <b class="v">INITIAL VELOCITY</b> scale to set the ball’s starting velocity.\n\t\t',requires:[r.UI_CONTROL.VELOCITY_SCALE],triggers:[r.UI_CONTROL.TUTORIAL_NEXT]},{title:"Change the Track setup",message:"\n\t\t\tDrag the top of a <b>POST</b> to raise or lower its <b>height</b>,\n\t\t\tor simply tap above or below a post head to gradually change the height value of that post.\n\t\t",requires:[r.UI_CONTROL.TRACK_POST_ANY]},{title:"Test your new setup",message:'\n\t\t\tSelect the <b class="a">ACCELERATION</b> graph.\n\t\t\t<br> <br>\n\t\t\tThen click <b class="b">ROLL BALL</b> to see how the acceleration of the ball changes.\n\t\t\t<br> <br>\n\t\t\tAcceleration graphs will help you for find out how steep to make your ramps.\n\t\t',requires:[r.UI_CONTROL.ROLL_BUTTON],triggers:[r.UI_CONTROL.ACCELERATION_GRAPH]},{title:"One step at a time",message:'\n\t\t\tThe problem can be simplified by focusing on short segments.\n\t\t\t<br> <br>\n\t\t\tTo see the motion for only one sloping section at a time, click and <b>hold down</b> the <b class="b">ROLL BALL</b> button.\n\t\t',requires:[r.UI_CONTROL.ROLL_BUTTON_HOLD]},{title:"Tutorial complete",message:"\n\t\t\tThat's it, now you're ready to start. You can go to the <a [routerLink]=\"['/challenges']\">challenges list</a> and\n\t\t\tpick your first one.\n\t\t",requires:[]}]},function(t,e){"use strict";!function(t){t[t.EXAMPLE=0]="EXAMPLE",t[t.TUTORIAL=1]="TUTORIAL",t[t.EXPLORATION=2]="EXPLORATION",t[t.COMMUNITY=3]="COMMUNITY",t[t.TEACHER=4]="TEACHER"}(e.CHALLENGE_TYPE||(e.CHALLENGE_TYPE={}));e.CHALLENGE_TYPE;!function(t){t[t.EASY=0]="EASY",t[t.INTERMEDIATE=1]="INTERMEDIATE",t[t.HARD=2]="HARD"}(e.CHALLENGE_DIFFICULTY||(e.CHALLENGE_DIFFICULTY={}));e.CHALLENGE_DIFFICULTY;!function(t){t[t.TUTORIAL_NEXT=0]="TUTORIAL_NEXT",t[t.POSITION_GRAPH=1]="POSITION_GRAPH",t[t.VELOCITY_GRAPH=2]="VELOCITY_GRAPH",t[t.ACCELERATION_GRAPH=3]="ACCELERATION_GRAPH",t[t.TRACK_POST_ANY=4]="TRACK_POST_ANY",t[t.TRACK_POST_FIRST=5]="TRACK_POST_FIRST",t[t.TRACK_RAMP=6]="TRACK_RAMP",t[t.POSITION_SCALE=7]="POSITION_SCALE",t[t.VELOCITY_SCALE=8]="VELOCITY_SCALE",t[t.ROLL_BUTTON=9]="ROLL_BUTTON",t[t.ROLL_BUTTON_HOLD=10]="ROLL_BUTTON_HOLD"}(e.UI_CONTROL||(e.UI_CONTROL={}));e.UI_CONTROL},function(t,e,n){"use strict";var r=n(67);e.MODE_NORMAL={simulation:{duration:25,precision:25},domain:{position:{min:0,max:500,step:50},velocity:{min:-60,max:60,step:10},posts:{min:0,max:10,step:1}},postsCount:6},e.INITIAL_SETUP={position:0,velocity:30,posts:[0,0,0,0,0,0]},e.TUTORIAL_CHALLENGE_SETUP={position:50,velocity:30,posts:[5,5,5,5,5,5]},e.TUTORIAL_CHALLENGE={id:"tutorial",name:"Challenge Tutorial",type:r.CHALLENGE_TYPE.TUTORIAL,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:50,velocity:-30,posts:[4,2,0,0,0,0]}},e.EASY_CHALLENGES=[{id:"1",name:"Challenge #1",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:50,velocity:30,posts:[0,0,0,0,0,0]}},{id:"2",name:"Challenge #2",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:250,velocity:20,posts:[0,0,0,0,0,0]}},{id:"3",name:"Challenge #3",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:0,velocity:0,posts:[5,4,3,2,1,0]}},{id:"4",name:"Challenge #4",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:400,velocity:60,posts:[0,0,0,0,0,0]}},{id:"5",name:"Challenge #5",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.EASY,mode:e.MODE_NORMAL,goal:{position:100,velocity:20,posts:[5,4,3,2,1,0]}}],e.INTERMEDIATE_CHALLENGES=[{id:"6",name:"Challenge #6",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.INTERMEDIATE,mode:e.MODE_NORMAL,goal:{position:350,velocity:60,posts:[5,4,3,2,1,0]}},{id:"7",name:"Challenge #7",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.INTERMEDIATE,mode:e.MODE_NORMAL,goal:{position:50,velocity:30,posts:[5,4,3,2,1,0]}},{id:"8",name:"Challenge #8",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.INTERMEDIATE,mode:e.MODE_NORMAL,goal:{position:500,velocity:0,posts:[0,0,0,2,4,6]}},{id:"9",name:"Challenge #9",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.INTERMEDIATE,mode:e.MODE_NORMAL,goal:{position:50,velocity:10,posts:[6,6,0,0,0,0]}},{id:"10",name:"Challenge #10",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.INTERMEDIATE,mode:e.MODE_NORMAL,goal:{position:450,velocity:200,posts:[10,2,2,1,0,2,4]}}],e.HARD_CHALLENGES=[{id:"11",name:"Challenge #11",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.HARD,mode:e.MODE_NORMAL,goal:{position:50,velocity:30,posts:[4,2,0,0,2,4]}},{id:"12",name:"Challenge #12",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.HARD,mode:e.MODE_NORMAL,goal:{position:450,velocity:30,posts:[5,0,2,2,0,6]}},{id:"13",name:"Challenge #13",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.HARD,mode:e.MODE_NORMAL,goal:{position:50,velocity:60,posts:[1,2,0,3,0,9]}},{id:"14",name:"Challenge #14",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.HARD,mode:e.MODE_NORMAL,goal:{position:100,velocity:50,posts:[3,0,1,1,1,1]}},{id:"15",name:"Challenge #15",type:r.CHALLENGE_TYPE.EXAMPLE,difficulty:r.CHALLENGE_DIFFICULTY.HARD,mode:e.MODE_NORMAL,goal:{position:350,velocity:60,posts:[8,0,0,0,0,6]}}]},function(t,e){t.exports='<md-toolbar color="primary">\n\t<a [routerLink]="[\'\']" class="logo">\n\t\t<md-icon>multiline_chart</md-icon>\n\t\tGraphs and Tracks\n\t</a>\n\n\t<a [routerLink]="[\'challenges\']">\n\t\t<md-icon>star</md-icon>\n\t\tChallenges\n\t</a>\n\n\t<a [routerLink]="[\'playground\']" class="todo">\n\t\t<md-icon>public</md-icon>\n\t\tCommunity\n\t</a>\n\n\t<a [routerLink]="[\'settings\']" class="todo">\n\t\t<md-icon>settings</md-icon>\n\t\tSettings\n\t</a>\n\n\t<div class="filler"></div>\n\n\t<a id="menu-user-status"> <!--md-icon-button [md-menu-trigger-for]="menu"-->\n\t\t<img [src]="auth.user.avatarUrl">\n\t\t{{ auth.user.username }}\n\t\t<md-icon>arrow_drop_down</md-icon>\n\t</a>\n\t<!--md-menu id="user-menu" #menu="mdMenu" x-position="after">\n\t\t<button md-menu-item> Refresh </button>\n\t\t<button md-menu-item> Settings </button>\n\t\t<button md-menu-item> Help </button>\n\t\t<button md-menu-item disabled> Sign Out </button>\n\t</md-menu-->\n</md-toolbar>\n\n<div id="main-container">\n\t<router-outlet></router-outlet>\n</div>\n'},function(t,e){t.exports="a{display:inline-block;height:100%;line-height:40px;background:rgba(255,255,255,0.1);cursor:pointer;text-decoration:none;color:white !important;margin:0 8px;padding:0 16px}a:first-of-type{margin-left:0;padding-left:0}a:last-of-type{margin-right:0;padding-right:0}a:hover{background:rgba(255,255,255,0.3);opacity:.9}a md-icon{cursor:pointer}a.logo{background:none}md-icon{vertical-align:middle;margin-top:-3px}#menu-user-status{padding:0 8px;line-height:40px;font-size:16px;font-weight:normal}#menu-user-status img{width:32px;height:32px;border-radius:100%;object-fit:cover;margin-right:8px;margin-top:4px;vertical-align:top}\n"},function(t,e,n){"use strict";var r=n(72),a=n(90),i=n(97),o=n(101),s=n(117),l=n(118),c=[{path:"",component:a.HomeComponent},{path:"challenges",component:i.ChallengeListComponent},{path:"challenges/:id",component:o.ChallengeComponent},{path:"editor",component:l.EditorComponent},{path:"about",component:s.AboutComponent}];e.APP_ROUTING_PROVIDERS=[],e.APP_ROUTING=r.RouterModule.forRoot(c,{useHash:!0})},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(3),a=n(72),i=n(64),o=n(91),s=function(){function HomeComponent(t){this.router=t,this.tutorialChallengeLink="/challenges/tutorial",this.mode=i.MODE_NORMAL,this.setup={position:250,velocity:0,posts:[0,1,10,4,6,10]}}return HomeComponent.prototype.onPositionChange=function(t){this.setup.position=t,this.track.refresh()},HomeComponent.prototype.onKeydown=function(t){39!==t.which&&13!==t.which||this.router.navigateByUrl(this.tutorialChallengeLink+"#tutorial")},__decorate([r.ViewChild(o.TrackComponent),__metadata("design:type",o.TrackComponent)],HomeComponent.prototype,"track",void 0),__decorate([r.HostListener("window:keydown",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],HomeComponent.prototype,"onKeydown",null),HomeComponent=__decorate([r.Component({selector:"gt-home",template:n(95),styles:[n(96)]}),__metadata("design:paramtypes",[a.Router])],HomeComponent)}();e.HomeComponent=s},function(t,e,n){"use strict";var r=n(3),a=n(92),i=function(){function TrackComponent(t,e){this.changeDetector=t,this.change=new r.EventEmitter,this.trackWidth=10,this.ball={radius:15,stroke:3,rotation:0,perimeter:2*Math.PI*15,position:{x:0,y:0}},this.ballDebugX=0,this.ballDebugY=0,this.margin={left:0,top:2*this.ball.radius+this.trackWidth/2,right:0,bottom:2*this.trackWidth},this.showHeights=!0,this.host=e.nativeElement}return TrackComponent.prototype.ngOnInit=function(){var t=this.mode.domain.position.max-this.mode.domain.position.min;this.rampSize=t/(this.mode.postsCount-1),this.svg=d3.select(this.host.querySelector("svg")),this.trackGroup=this.svg.select("g"),this.ball.element=this.svg.select("circle").node()},TrackComponent.prototype.ngOnChanges=function(t){var e=t.postsSetup;e&&!e.isFirstChange()&&this.refresh(-1)},TrackComponent.prototype.ngAfterViewInit=function(){var t=this;this.changeDetector.markForCheck(),setTimeout(function(){t.refresh()},1)},TrackComponent.prototype.onResize=function(t){this.refresh()},TrackComponent.prototype.onPostDrag=function(t,e,n){void 0===n&&(n=!1),t=1-t;var r=this.mode.domain.posts,a=r.max-r.min,i=Math.round(a*t/r.step)*r.step;if(n)this.postsSetup[e]=i,this.refresh(e);else{var o=this.postsSetup.slice();o[e]=i,this.drawTrackLine(o,!0)}},TrackComponent.prototype.highlightRamp=function(t){if(void 0!==t){this.wrongRamp=Math.floor(t/this.rampSize);var e=this.getRampHeads(this.wrongRamp),n=e.left.x,r=e.left.y,a=e.right.x,i=e.right.y,o=this.trackWidth/2;this.wrongRampOutline="M"+n+","+(r-o)+" L"+a+","+(i-o)+" L"+a+","+(i+o)+" L"+n+","+(r+o)+" Z"}else this.wrongRamp=void 0,this.wrongRampOutline=void 0},TrackComponent.prototype.highlightPost=function(t){if(this.postHighlights=[],this.postHighlight=t,void 0!==t)if(t===-1)for(var e=0;e<this.postsSetup.length;e++){var n=this.generatePostHighlight(e);this.postHighlights.push(n)}else{var n=this.generatePostHighlight(t);this.postHighlights.push(n)}},TrackComponent.prototype.generatePostHighlight=function(t){for(var e=this.trackWidth/2,n=this.getPostHead(t),r=this.scaleY(-1),a=[[n.x-e,n.y],[n.x+e,n.y],[n.x+e,r],[n.x-e,r]],i="",o=0,s=a;o<s.length;o++){var l=s[o];i+="L"+l[0]+","+l[1]+" "}return i="M"+i.slice(1)+" Z"},TrackComponent.prototype.refresh=function(t){this.recalculate(),this.drawTrackLine(this.postsSetup),this.updateBallPostion(this.position),void 0!==t&&(void 0!==this.postHighlight&&this.highlightPost(this.postHighlight),this.change.emit(t))},TrackComponent.prototype.updateBallPostion=function(t){void 0===t&&(t=this.position);var e=t,n=0,r=this.postsSetup,i=this.ball.radius+this.trackWidth/2,o=t/this.rampSize,s=Math.floor(o),l=s,c=o-l,u=t%this.rampSize===0,h=0===s;s===r.length-1&&(h=!0,l--);var p,d,f=r[l],g=r[l+1],m=g-f;u?(n=r[s],h&&(p=this.getRampInclination(l,!0))):(n=f+m*c,p=this.getRampInclination(l,!0)),d={x:this.scaleX(e),y:this.scaleY(n)},this.ballDebugX=d.x,this.ballDebugY=d.y,p?d=a.translate(d,p.rad,i):d.y=d.y-i;var y=this.getDeadZone(t,l);y&&(d=y.position),this.rotateBall(d,this.ball.position),this.ball.position=d},TrackComponent.prototype.calculatePost=function(t){var e=this.trackWidth,n=this.getPostHead(t),r=n.x-e/2,a=n.y-this.trackWidth/2,i=this.scaleY(-1)-a;return{x:r,y:a,width:e,height:i}},TrackComponent.prototype.incrementPost=function(t){this.setPost(t,Math.min(this.mode.domain.posts.max,this.postsSetup[t]+1))},TrackComponent.prototype.decrementPost=function(t){this.setPost(t,Math.max(this.mode.domain.posts.min,this.postsSetup[t]-1))},TrackComponent.prototype.setPostToMinimum=function(t){this.setPost(t,this.mode.domain.posts.min)},TrackComponent.prototype.setPost=function(t,e){this.postsSetup[t]=e,t!==this.wrongRamp&&t!==this.wrongRamp+1||(this.wrongRamp=void 0,this.wrongRampOutline=void 0),this.refresh(t)},TrackComponent.prototype.previewTrackChange=function(t,e){var n=this.postsSetup.slice();n[t]=e,this.drawTrackLine(n,!0)},TrackComponent.prototype.clearPreview=function(){this.trackGroup.select(".track-outline").attr("d","")},TrackComponent.prototype.getRampHeads=function(t){var e={left:{x:0,y:0},right:{x:0,y:0}};return void 0!==t&&(e={left:this.getPostHead(t),right:this.getPostHead(t+1)}),e},TrackComponent.prototype.recalculate=function(){var t=this.host.getBoundingClientRect(),e=this.mode.domain,n=this.mode.domain.position,r=20,a=(t.width-r)/(n.max/n.step+1),i=r+a/2;this.margin.left=i,this.margin.right=i,this.svg.attr("width",t.width).attr("height",t.height),this.trackGroup.attr("transform","translate("+this.margin.left+", "+this.margin.top+")");var o=t.width-this.margin.left-this.margin.right,s=t.height-this.margin.top-this.margin.bottom;this.scaleX=d3.scaleLinear().range([0,o]).domain([n.min,n.max]),this.scaleY=d3.scaleLinear().range([s,0]).domain([e.posts.min-1,e.posts.max]),this.posts=[];for(var l=0;l<this.postsSetup.length;l++)this.posts.push(this.calculatePost(l));this.changeDetector.markForCheck(),this.updateDeadZones()},TrackComponent.prototype.drawTrackLine=function(t,e){var n=this;void 0===e&&(e=!1),t=t.slice(),t.unshift(t[0]),t.push(t[t.length-1]);var r=e?"track-outline":"track-line",a=d3.line().x(function(e,r){return r===t.length-1?r-=2:0!==r&&r--,n.scaleX(r*n.rampSize)}).y(function(e,r){return 0===r||r===t.length-1?n.scaleY(-1):n.scaleY(e)});e||this.trackGroup.select(".track-outline").attr("d",""),this.trackGroup.select("."+r).datum(t).attr("d",a)},TrackComponent.prototype.rotateBall=function(t,e){var n=t.x>e.x,r=a.getDistance(e,t),i=this.ball.rotation+r*(n?-1:1),o=i/this.ball.perimeter;o>1&&(i=(o-Math.floor(o))*this.ball.perimeter),this.ball.element.style.strokeDashoffset=i+"px",this.ball.rotation=i},TrackComponent.prototype.getPostHead=function(t){var e=this.postsSetup[t];return{x:this.scaleX(t*this.rampSize),y:this.scaleY(e)}},TrackComponent.prototype.getRampInclination=function(t,e){void 0===e&&(e=!1);var n=this.getPostHead(t),r=this.getPostHead(t+1),i=a.Angle.fromVector(n,r);if(e){var o=i.rad-a.Angle.fromDeg(90).rad;i=a.Angle.fromRad(o)}return i},TrackComponent.prototype.getDeadZone=function(t,e){var n=this.deadZones[e],r=this.deadZones[e+1];return n&&t<=n.end?n:r&&t>=r.start?r:null},TrackComponent.prototype.updateDeadZones=function(){var t=this.postsSetup;this.deadZones=[];for(var e=1;e<t.length-1;e++){var n=this.calculateDeadZone(e);this.deadZones.push(n)}this.deadZones.unshift(null),this.deadZones.push(null)},TrackComponent.prototype.calculateDeadZone=function(t){var e=this.getPostHead(t),n=this.getPostHead(t-1),r=this.getPostHead(t+1),i=a.Angle.betweenVectors(e,n,r);if(i.rad<=0)return null;var o=this.getRampInclination(t),s=a.Angle.fromRad(o.rad-i.rad/2),l=this.ball.radius+this.trackWidth/2,c=l/Math.sin(i.rad/2)-l,u=c+l,h=a.translate(e,s.rad,u),p=this.getRampInclination(t-1,!0),d=a.translate(h,p.rad,l*-1),f=this.getRampInclination(t,!0),g=a.translate(h,f.rad,l*-1);return{position:h,start:this.scaleX.invert(d.x),end:this.scaleX.invert(g.x)}},__decorate([r.Input(),__metadata("design:type",Object)],TrackComponent.prototype,"mode",void 0),__decorate([r.Input(),__metadata("design:type",Array)],TrackComponent.prototype,"postsSetup",void 0),__decorate([r.Input(),__metadata("design:type",Number)],TrackComponent.prototype,"position",void 0),__decorate([r.Output(),__metadata("design:type",Object)],TrackComponent.prototype,"change",void 0),__decorate([r.HostListener("window:resize"),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],TrackComponent.prototype,"onResize",null),TrackComponent=__decorate([r.Component({selector:"gt-track",template:n(93),styles:[n(94)]}),__metadata("design:paramtypes",[r.ChangeDetectorRef,r.ElementRef])],TrackComponent)}();e.TrackComponent=i},function(t,e){"use strict";function interpolate(t,e,n,r,a){var i=t-e,o=n-e,s=i/o,l=a-r;return r+l*s}function getDistance(t,e){var n=getVector(t,e);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}function getDotProduct(t,e){return t.x*e.x+t.y*e.y}function getDeterminant(t,e){return t.x*e.y-t.y*e.x}function getVector(t,e){return{x:e.x-t.x,y:e.y-t.y}}function translate(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function getMultiple(t,e,n){void 0===n&&(n="near");var r,a=t/e;switch(n){case"up":r=Math.ceil(a);break;case"down":r=Math.floor(a);break;case"near":r=Math.round(a)}return r*e}var n=function(){function Angle(t,e){this._rad=t,this._deg=e}return Object.defineProperty(Angle.prototype,"rad",{get:function(){return this._rad},enumerable:!0,configurable:!0}),Object.defineProperty(Angle.prototype,"deg",{get:function(){return this._deg},enumerable:!0,configurable:!0}),Angle.fromDeg=function(t){return new this(t/180*Math.PI,t)},Angle.fromRad=function(t){return new this(t,180*t/Math.PI)},Angle.fromVector=function(t,e){var n=getVector(t,e),r=Math.atan2(n.y,n.x);return this.fromRad(r)},Angle.betweenVectors=function(t,e,n){var r=getVector(t,e),a=getVector(t,n),i=getDotProduct(r,a),o=getDeterminant(r,a),s=Math.atan2(o,i);return this.fromRad(s)},Angle}();e.Angle=n,e.interpolate=interpolate,e.getDistance=getDistance,e.getDotProduct=getDotProduct,e.getDeterminant=getDeterminant,e.getVector=getVector,e.translate=translate,e.getMultiple=getMultiple},function(t,e){t.exports='<svg>\n\t<g id="track-group">\n\t\t<circle id="ball"\n\t\t\t\t[attr.r]="ball.radius - ball.stroke"\n\t\t\t\t[attr.cx]="ball.position.x"\n\t\t\t\t[attr.cy]="ball.position.y"\n\t\t></circle>\n\n\t\t<path class="track-line"></path>\n\t\t<path class="track-outline"></path>\n\n\t\t<template ngFor let-post [ngForOf]="posts" let-idx="index">\n\t\t\t<!-- inner post -->\n\t\t\t<rect *ngIf="idx > 0 && idx < (posts.length - 1)"\n\t\t\t\t\tclass="post"\n\n\t\t\t\t\t[attr.x]="post.x" [attr.y]="post.y + trackWidth / 2"\n\t\t\t\t\t[attr.width]="post.width" [attr.height]="post.height"\n\t\t\t></rect>\n\n\t\t\t<!-- post incrementer -->\n\t\t\t<rect *ngIf="postsSetup[idx] !== mode.domain.posts.max"\n\t\t\t\t\tclass="post-incrementer"\n\n\t\t\t\t\t(mouseover)="previewTrackChange(idx, postsSetup[idx] + 1)"\n\t\t\t\t\t(mouseout)="clearPreview()"\n\t\t\t\t\t(click)="incrementPost(idx)"\n\n\t\t\t\t\t[attr.x]="post.x - post.width" [attr.y]="margin.top * -1"\n\t\t\t\t\t[attr.width]="post.width * 3" [attr.height]="post.y + margin.top"\n\t\t\t\t></rect>\n\n\t\t\t<!-- post base -->\n\t\t\t<path\n\t\t\t\t\tclass="post-base" d="M0,0.5 L.5,0 H2.5 L3,0.5 V2 H0 Z"\n\n\t\t\t\t\t(mouseover)="previewTrackChange(idx, mode.domain.posts.min)"\n\t\t\t\t\t(mouseout)="clearPreview()"\n\t\t\t\t\t(click)="setPostToMinimum(idx)"\n\n\t\t\t\t\t[attr.transform]="\'translate(\'+ (post.x - post.width) +\', \'+ (scaleY(-1)) +\') scale(\'+ trackWidth +\')\'"\n\t\t\t\t\t></path>\n\t\t\t<text *ngIf="showHeights" class="post-height-label" text-anchor="middle"\n\t\t\t\t\t[attr.x]="post.x + (post.width / 2)" [attr.y]="scaleY(-1) + trackWidth" dy=".4em">\n\t\t\t\t{{ postsSetup[idx] }}\n\t\t\t</text>\n\n\t\t\t<!-- post dragger -->\n\t\t\t<rect\n\t\t\t\t\tclass="post-dragger"\n\n\t\t\t\t\t(mouseover)="postsSetup[idx] > mode.domain.posts.min ? previewTrackChange(idx, postsSetup[idx] - 1) : false"\n\t\t\t\t\t(mouseout)="clearPreview()"\n\n\t\t\t\t\tgtSlider [vertical]="true" [reference]="svg.node()"\n\t\t\t\t\t[start]="margin.top" [end]="margin.bottom"\n\t\t\t\t\t(slide)="onPostDrag($event, idx)" (change)="onPostDrag($event, idx, true)"\n\t\t\t\t\t[emitTap]="true" (tap)="decrementPost(idx)"\n\n\t\t\t\t\t[attr.x]="post.x - post.width" [attr.y]="post.y"\n\t\t\t\t\t[attr.width]="post.width * 3" [attr.height]="post.height + (postsSetup[idx] === mode.domain.posts.min ? (trackWidth * 2) : 0)"\n\t\t\t></rect>\n\t\t</template>\n\n\t\t<!--<circle\n\t\t\t\tr="3"\n\t\t\t\t[attr.cx]="ballDebugX"\n\t\t\t\t[attr.cy]="ballDebugY"\n\t\t\t\tfill="white"\n\t\t></circle>-->\n\n\t\t<path id="ramp-error"\n\t\t\t\t*ngIf="wrongRamp !== undefined"\n\t\t\t\t[attr.d]="wrongRampOutline"\n\t\t></path>\n\n\t\t<path class="post-highlight"\n\t\t\t\t*ngFor="let highlight of postHighlights"\n\t\t\t\t[attr.d]="highlight"\n\t\t></path>\n\t</g>\n</svg>\n'},function(t,e){t.exports=":host{width:100%;height:100%;display:block}svg /deep/ .track-line,svg /deep/ .track-outline{fill:none;stroke:#333;stroke-width:10;stroke-linejoin:round}svg /deep/ .track-outline{opacity:.5}svg /deep/ .post{fill:#333}svg /deep/ .post-incrementer{cursor:pointer;fill:transparent}svg /deep/ .post-dragger{cursor:ns-resize;fill:transparent}svg /deep/ .post-base{fill:#333;cursor:pointer}svg /deep/ .post-base:hover{fill:#666}svg /deep/ .post-height-label{pointer-events:none !important;fill:white}svg /deep/ circle#ball{fill:crimson;stroke-width:3px;stroke-dashoffset:0;stroke:red;stroke-dasharray:13.079644737231007px 2px}svg /deep/ path#ramp-error{fill:rgba(255,0,0,0.3);stroke:orange;stroke-width:2px;stroke-dasharray:10 5;animation:dashing 1.5s linear infinite, pulse 1.5s linear infinite}svg /deep/ path.post-highlight{fill:#CFE;stroke:dodgerblue;stroke-width:2px;stroke-dasharray:10 5;animation:dashing 2s linear infinite, pulse 2s linear infinite;pointer-events:none !important}\n"},function(t,e){t.exports='<div>\n\t<md-card>\n\t\t<md-card-title>\n\t\t\tGraphs and Tracks\n\t\t</md-card-title>\n\t\t<md-card-content>\n\t\t<b>by</b> <a [routerLink]="\'/about\'">David Trowbridge</a>\n\t\t\t<p>\n\t\t\t\tLearn about graphs of position, velocity and acceleration.\n\t\t\t\t<br>\n\t\t\t\tTest your understanding of motion<br>\n\t\t\t\tby rolling a ball along challenging track arrangements.\n\t\t\t</p>\n\t\t\t<br>\n\n\t\t\t<md-list>\n\t\t\t\t<md-list-item [routerLink]="\'/challenges\'">\n\t\t\t\t\t<md-icon md-list-avatar>star</md-icon>\n\t\t\t\t\t<h3 md-line>Challenge List</h3>\n\t\t\t\t\t<p md-line>\n\t\t\t\t\t\tBrowse all available challenges\n\t\t\t\t\t</p>\n\t\t\t\t</md-list-item>\n\t\t\t\t<md-list-item [routerLink]="tutorialChallengeLink">\n\t\t\t\t\t<md-icon md-list-avatar>school</md-icon>\n\t\t\t\t\t<h3 md-line> First time here? </h3>\n\t\t\t\t\t<p md-line>\n\t\t\t\t\t\tUse this tutorial to learn how to solve a challenge\n\t\t\t\t\t</p>\n\t\t\t\t</md-list-item>\n\t\t\t</md-list>\n\t\t</md-card-content>\n\t</md-card>\n</div>\n'},function(t,e){t.exports="div{text-align:center;padding-top:20px}md-card{width:auto;display:inline-block}md-card-title{margin-bottom:4px}h1{font-size:200%;color:teal}p{font-size:14px;color:#999}a{text-decoration:none;font-weight:600;color:#004d4d;cursor:pointer}md-list{text-align:left}md-list /deep/ md-list-item /deep/ *{cursor:pointer}\n"},function(t,e,n){"use strict";var r=n(3),a=n(98),i=n(67),o=function(){function ChallengeListComponent(t){this.challenges=t}return ChallengeListComponent.prototype.ngOnInit=function(){this.examples=this.challenges.getByType(i.CHALLENGE_TYPE.EXAMPLE)},ChallengeListComponent=__decorate([r.Component({selector:"gt-challenge-list",template:n(99),styles:[n(100)]}),__metadata("design:paramtypes",[a.ChallengesService])],ChallengeListComponent)}();e.ChallengeListComponent=o},function(t,e,n){"use strict";var r=n(3),a=n(67),i=n(64),o=function(){function ChallengesService(){this.loadBuiltinChallenges()}return ChallengesService.prototype.getByType=function(t){void 0===t&&(t=a.CHALLENGE_TYPE.EXAMPLE);var e;switch(t){case a.CHALLENGE_TYPE.EXAMPLE:e=this.examples.slice();break;case a.CHALLENGE_TYPE.TUTORIAL:e=[this.tutorial];break;case a.CHALLENGE_TYPE.EXPLORATION:e=[this.exploration];break;default:throw"Not Implemented"}return e},ChallengesService.prototype.getById=function(t){var e;switch(t){case"tutorial":e=this.tutorial;break;case"exploration":e=this.exploration;break;default:t.length<=2&&(e=this.examples.find(function(e){return e.id===t}))}return e},ChallengesService.prototype.getIdsInCollection=function(t){var e,n;return n=this.getByType(t),n&&(e=n.map(function(t){return t.id})),e},ChallengesService.prototype.loadBuiltinChallenges=function(){this.examples=i.EASY_CHALLENGES.concat(i.INTERMEDIATE_CHALLENGES,i.HARD_CHALLENGES),this.tutorial=i.TUTORIAL_CHALLENGE},ChallengesService=__decorate([r.Injectable(),__metadata("design:paramtypes",[])],ChallengesService)}();e.ChallengesService=o},function(t,e){t.exports='<md-grid-list card-fill id="challenge-list-grid" cols="5" gutterSize="8px" rowHeight="fit">\n\t<md-grid-tile colspan="2">\n\t\t<md-card scroll-y>\n\t\t\t<md-card-title>\n\t\t\t\tChallenge Samples\n\t\t\t</md-card-title>\n\t\t\t<md-card-content>\n\t\t\t\t<div id="create-challenge" class="list-action" [routerLink]="\'/challenges/tutorial\'">\n\t\t\t\t\t<md-icon>school</md-icon>\n\t\t\t\t\t<br>\n\t\t\t\t\t<span>FOLLOW THE TUTORIAL</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="list-container">\n\t\t\t\t\t<gt-challenge-list-item *ngFor="let example of examples" [challenge]="example"></gt-challenge-list-item>\n\t\t\t\t</div>\n\t\t\t</md-card-content>\n\t\t</md-card>\n\t</md-grid-tile>\n\t<md-grid-tile colspan="3">\n\t\t<md-card scroll-y>\n\t\t\t<md-card-title>\n\t\t\t\tCommunity Challenges\n\t\t\t</md-card-title>\n\t\t\t<md-card-content>\n\t\t\t\t<div id="browse-community" class="list-action" [routerLink]="\'/editor\'">\n\t\t\t\t\t<md-icon>format_paint</md-icon>\n\t\t\t\t\t<br>\n\t\t\t\t\t<span>CREATE A CHALLENGE</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="list-container"></div>\n\t\t\t</md-card-content>\n\t\t</md-card>\n\t</md-grid-tile>\n</md-grid-list>\n'},function(t,e){t.exports="md-card-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}md-grid-list{height:100%}md-grid-list md-card{height:100%;width:100%;box-sizing:border-box}.list-action{padding:16px;box-sizing:border-box;background:#F0F0F0;border-radius:16px;text-align:center;color:#999;border:3px dashed #CCC}.list-action,.list-action>*{cursor:pointer}.list-action:hover{border-color:#AAA;color:#666}.list-action md-icon{display:block;font-size:48px;width:auto;height:auto}.list-action span{font-weight:bold}.list-container{display:flex;flex-flow:row wrap;justify-content:flex-start;margin:0 -8px}.list-container gt-challenge-list-item{flex:1 1 auto}\n";
},function(t,e,n){"use strict";var r=n(3),a=n(72),i=n(102),o=n(67),s=n(103),l=n(92),c=n(64),u=n(98),h=n(104),p=n(105),d=n(111),f=n(114),g=n(63),m="latest-track-setup",y=function(){function ChallengeComponent(t,e,n,r,a){var i=this;this.challenges=t,this.router=e,this.changeDetector=n,this.auth=r,this.switchDirection="toRight",this.isDemo=!1,this.isReady=!1,this.isLoadingNext=!1,this.hintsEnabled=!1,this.hintDismissed=!1,this.isTutorial=!1,this.tutorialRequires=[],this.attempts=[],this.commitedAttempts=0,this.types=o.CHALLENGE_TYPE,this.challengeId=a.snapshot.params.id,a.params.subscribe(function(t){return i.loadChallengeById(t.id)})}return Object.defineProperty(ChallengeComponent.prototype,"currentHint",{set:function(t){t?(this.hintTitle=t.title instanceof Array?i.sample(t.title):t.title,this.hintMessage=t.message instanceof Array?i.sample(t.message):t.message):(this.hintTitle=void 0,this.hintMessage=void 0)},enumerable:!0,configurable:!0}),ChallengeComponent.prototype.ngOnInit=function(){this.isReady=!0,this.loadChallengeById(this.challengeId),this.loadTrackSetup()},ChallengeComponent.prototype.onRollBall=function(t){var e=this.tutorialRequires.indexOf(o.UI_CONTROL.ROLL_BUTTON_HOLD)===-1,n=this.tutorialRequires.indexOf(o.UI_CONTROL.ROLL_BUTTON)===-1;t.breakDown&&n?(this.tutorialCheckRequirement(o.UI_CONTROL.ROLL_BUTTON_HOLD),this.performMotion(t)):e?(this.tutorialCheckRequirement(o.UI_CONTROL.ROLL_BUTTON),this.performMotion(t)):console.warn("This shouldn't happen")},ChallengeComponent.prototype.onAbort=function(){this.trackPanel&&(this.trackPanel.rolling=!1)},ChallengeComponent.prototype.onGraphPanelChange=function(t){this.segmentedAnimationIndex=void 0,this.trackPanel.updateBallPostion(),this.trackPanel.rolling&&this.endAnimation(),this.tutorialCheckRequirement(t)},ChallengeComponent.prototype.onTrackPanelChange=function(t){switch(this.segmentedAnimationIndex=void 0,this.storeSetup(),t){case o.UI_CONTROL.POSITION_SCALE:case o.UI_CONTROL.VELOCITY_SCALE:this.graphsPanel.refresh(!1,!0)}this.tutorialCheckRequirement(t)},ChallengeComponent.prototype.onHintToggle=function(){this.hintsEnabled=!this.hintsEnabled,this.hintsEnabled?(this.hintDismissed=!1,this.currentHint=c.HINT_MESSAGES.intro):this.clearHints()},ChallengeComponent.prototype.navigateTo=function(t){var e=this;if(this.isLoadingNext===!0)return!1;this.auth.user.settings.effects?(this.switchDirection=t,this.changeDetector.detectChanges()):this.switchDirection="none";var n=this.collectionIndex+("toLeft"===t?1:-1),r=this.collectionIds[n];r&&(this.router.navigate(["challenges",r]),this.isLoadingNext=!0,setTimeout(function(){e.isLoadingNext=!1},f.SWITCH_DURATION))},ChallengeComponent.prototype.loadChallengeById=function(t){if(this.isReady!==!1){"tutorial"!==t&&"exploration"!==t||(this.switchDirection="toRight");var e=this.challenges.getById(t);e&&(this.onAbort(),this.loadChallenge(e))}},ChallengeComponent.prototype.loadChallenge=function(t){this.clearHints(),this.segmentedAnimationIndex=void 0,void 0!==this.collectionIds&&this.challenge.type===t.type||(this.collectionIds=this.challenges.getIdsInCollection(t.type)),this.challenge=t,this.challengeId=t.id,this.collectionIndex=this.collectionIds.indexOf(t.id),this.goalMotion=h.Motion.fromSetup(this.challenge.goal,this.challenge.mode),this.isDemo=this.challenge.type===o.CHALLENGE_TYPE.TUTORIAL||this.challenge.type===o.CHALLENGE_TYPE.EXPLORATION,this.isTutorial=this.challenge.type===o.CHALLENGE_TYPE.TUTORIAL,this.isTutorial&&this.startTutorial()},ChallengeComponent.prototype.performMotion=function(t){var e=h.Motion.fromSetup(t),n=void 0!==this.segmentedAnimationIndex;n?this.latestError=void 0:(this.graphsPanel.addTrialData(e.data),t.breakDown&&(this.hintsEnabled=!1,this.segmentedAnimationIndex=0),this.latestError=this.goalMotion.findTrialError(e),this.latestError&&this.attempts.push({accuracy:-1,setup:t,motion:e})),this.isTutorial||this.clearHints(),this.trackPanel.cancelBallReset(),this.animate(e.data,c.ANIMATION_DURATION,t.breakDown)},ChallengeComponent.prototype.animate=function(t,e,n){var r=this;void 0===n&&(n=!1),this.trackPanel.rolling=!0;var a=Date.now();e*=1e3;var i=1e3*this.challenge.mode.simulation.duration/e,o=this.segmentedAnimationIndex||0,s=t[o];if(0!==o){var c=1e3*s.t;a-=c/i}var u=n?s.a:void 0,h=function(){var n=Date.now(),s=n-a;if(!r.trackPanel.rolling||s>e)return void r.endAnimation();for(var c,p,d=s*i,f=o,g=!1;o<t.length-1;){if(void 0!==u&&t[o+1].a!==u)return r.segmentedAnimationIndex=o+1,void r.endAnimation(!0);if(c=Math.floor(1e3*t[o].t),p=Math.floor(1e3*t[o+1].t),c<=d&&d<p){g=!0;break}o++}var m;if(g){var y=t[o],b=t[o+1];m=l.interpolate(d,c,p,y.s,b.s),requestAnimationFrame(h)}else{var v=t[f+1];m=v?v.s:t[0].s,r.endAnimation()}if("number"!=typeof m)throw"Last data point not found";r.graphsPanel.setTrialLineClip(s/e),r.trackPanel.updateBallPostion(m)};h()},ChallengeComponent.prototype.endAnimation=function(t){var e=this;if(void 0===t&&(t=!1),this.commitedAttempts=this.attempts.length,this.trackPanel.onAnimationEnded(t),t===!1&&(this.segmentedAnimationIndex=void 0,this.graphsPanel.setTrialLineClip(1),this.isTutorial===!1)){this.hintDismissed=!0;var n=500;setTimeout(function(){if(e.latestError&&e.hintsEnabled)switch(e.graphsPanel.highlightError(e.latestError),e.trackPanel.highlightError(e.latestError),e.latestError.type){case"s":e.currentHint=c.HINT_MESSAGES.position;break;case"v":e.currentHint=c.HINT_MESSAGES.velocity;break;case"a":e.currentHint=c.HINT_MESSAGES.posts;break;default:e.currentHint=c.HINT_MESSAGES.intro}},n),setTimeout(function(){e.hintDismissed=!1},n+50)}},ChallengeComponent.prototype.clearHints=function(){this.currentHint=void 0,this.hintDismissed=!0,this.clearHighlights()},ChallengeComponent.prototype.clearHighlights=function(){this.graphsPanel.clearHighlights(),this.trackPanel.clearHighlights()},ChallengeComponent.prototype.storeSetup=function(){localStorage.setItem(m,JSON.stringify(this.trackPanel.setup))},ChallengeComponent.prototype.loadTrackSetup=function(){var t;if(this.isTutorial)t=c.TUTORIAL_CHALLENGE_SETUP;else{var e=localStorage.getItem(m);t=e?JSON.parse(e):c.INITIAL_SETUP}this.trackPanel.setup=i.cloneDeep(t)},ChallengeComponent.prototype.startTutorial=function(){this.hintsEnabled=!0,this.hintDismissed=!1,this.tutorialStepIndex=-1,this.graphsPanel.autoClearTrials=!1,this.loadTrackSetup(),this.tutorialNextStep()},ChallengeComponent.prototype.endTutorial=function(){this.hintsEnabled=!1,this.hintDismissed=!0,this.tutorialRequires=[],this.graphsPanel.autoClearTrials=!0,window.history.length>1?window.history.back():this.router.navigate(["challenges"])},ChallengeComponent.prototype.tutorialHasNext=function(){return this.tutorialStepIndex<c.TUTORIAL_STEPS.length-1},ChallengeComponent.prototype.tutorialNextStep=function(){this.tutorialStepIndex++;var t=c.TUTORIAL_STEPS[this.tutorialStepIndex];if(void 0===t)return this.endTutorial();this.tutorialStep=this.currentHint=t,this.tutorialRequires=[];for(var e=t.requires||[],n=0,r=e;n<r.length;n++){var a=r[n];switch(a){case o.UI_CONTROL.VELOCITY_SCALE:case o.UI_CONTROL.POSITION_SCALE:case o.UI_CONTROL.TRACK_POST_ANY:case o.UI_CONTROL.TRACK_POST_FIRST:case o.UI_CONTROL.ROLL_BUTTON:case o.UI_CONTROL.ROLL_BUTTON_HOLD:this.tutorialRequires.push(a),this.trackPanel.highlightControl(a);break;case o.UI_CONTROL.POSITION_GRAPH:case o.UI_CONTROL.VELOCITY_GRAPH:case o.UI_CONTROL.ACCELERATION_GRAPH:this.tutorialRequires.push(a),this.graphsPanel.highlightControl(a)}}this.tutorialRequires.length&&this.changeDetector.markForCheck()},ChallengeComponent.prototype.tutorialCheckRequirement=function(t){if(t===o.UI_CONTROL.TRACK_POST_FIRST&&this.tutorialRequires.indexOf(o.UI_CONTROL.TRACK_POST_ANY)!==-1&&(t=o.UI_CONTROL.TRACK_POST_ANY),this.tutorialRequires.length){var e=this.tutorialRequires.indexOf(t);e!==-1&&this.tutorialRequires.splice(e,1),0===this.tutorialRequires.length&&(this.clearHighlights(),this.tutorialCheckTriggers())}},ChallengeComponent.prototype.tutorialCheckTriggers=function(){if(this.tutorialStep&&this.tutorialStep.triggers)for(var t=0,e=this.tutorialStep.triggers;t<e.length;t++){var n=e[t];switch(n){case o.UI_CONTROL.POSITION_GRAPH:this.graphsPanel.selectGraph("s",!1);break;case o.UI_CONTROL.ACCELERATION_GRAPH:this.graphsPanel.selectGraph("a",!1);break;case o.UI_CONTROL.TUTORIAL_NEXT:this.tutorialNextStep()}}},ChallengeComponent.prototype.debug=function(t){var e="";if(this.attempts.length){var n="Enter trial index (from 1 to "+this.attempts.length+") or leave empty for goal:";e=prompt("Which trial motion you want to debug?\n\n"+n)}if(void 0!==e)if(""===e)s.printDataTable(this.goalMotion.data,"goal");else{var r=this.attempts[+e-1];s.printDataTable(r.motion.data,"attempt #"+e)}},__decorate([r.ViewChild(d.TrackPanelComponent),__metadata("design:type",d.TrackPanelComponent)],ChallengeComponent.prototype,"trackPanel",void 0),__decorate([r.ViewChild(p.GraphsPanelComponent),__metadata("design:type",p.GraphsPanelComponent)],ChallengeComponent.prototype,"graphsPanel",void 0),ChallengeComponent=__decorate([r.Component({selector:"gt-challenge",template:n(115),styles:[n(116)],animations:[r.trigger("challengeSwitch",f.SWITCH_ANIMATION)]}),__metadata("design:paramtypes",[u.ChallengesService,a.Router,r.ChangeDetectorRef,g.AuthService,a.ActivatedRoute])],ChallengeComponent)}();e.ChallengeComponent=y},function(t,e,n){var r;(function(t,a){(function(){function addMapEntry(t,e){return t.set(e[0],e[1]),t}function addSetEntry(t,e){return t.add(e),t}function apply(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function arrayAggregator(t,e,n,r){for(var a=-1,i=t?t.length:0;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}function arrayEach(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function arrayEachRight(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function arrayEvery(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function arrayFilter(t,e){for(var n=-1,r=t?t.length:0,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}function arrayIncludes(t,e){var n=t?t.length:0;return!!n&&baseIndexOf(t,e,0)>-1}function arrayIncludesWith(t,e,n){for(var r=-1,a=t?t.length:0;++r<a;)if(n(e,t[r]))return!0;return!1}function arrayMap(t,e){for(var n=-1,r=t?t.length:0,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}function arrayPush(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}function arrayReduce(t,e,n,r){var a=-1,i=t?t.length:0;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function arrayReduceRight(t,e,n,r){var a=t?t.length:0;for(r&&a&&(n=t[--a]);a--;)n=e(n,t[a],a,t);return n}function arraySome(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function asciiToArray(t){return t.split("")}function asciiWords(t){return t.match(Dt)||[]}function baseFindKey(t,e,n){var r;return n(t,function(t,n,a){if(e(t,n,a))return r=n,!1}),r}function baseFindIndex(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function baseIndexOf(t,e,n){return e===e?strictIndexOf(t,e,n):baseFindIndex(t,baseIsNaN,n)}function baseIndexOfWith(t,e,n,r){for(var a=n-1,i=t.length;++a<i;)if(r(t[a],e))return a;return-1}function baseIsNaN(t){return t!==t}function baseMean(t,e){var n=t?t.length:0;return n?baseSum(t,e)/n:M}function baseProperty(t){return function(e){return null==e?i:e[t]}}function basePropertyOf(t){return function(e){return null==t?i:t[e]}}function baseReduce(t,e,n,r,a){return a(t,function(t,a,i){n=r?(r=!1,t):e(n,t,a,i)}),n}function baseSortBy(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function baseSum(t,e){for(var n,r=-1,a=t.length;++r<a;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function baseToPairs(t,e){return arrayMap(e,function(e){return[e,t[e]]})}function baseUnary(t){return function(e){return t(e)}}function baseValues(t,e){return arrayMap(e,function(e){return t[e]})}function cacheHas(t,e){return t.has(e)}function charsStartIndex(t,e){for(var n=-1,r=t.length;++n<r&&baseIndexOf(e,t[n],0)>-1;);return n}function charsEndIndex(t,e){for(var n=t.length;n--&&baseIndexOf(e,t[n],0)>-1;);return n}function countHolders(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function escapeStringChar(t){return"\\"+Be[t]}function getValue(t,e){return null==t?i:t[e]}function hasUnicode(t){return Me.test(t)}function hasUnicodeWord(t){return De.test(t)}function iteratorToArray(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function overArg(t,e){return function(n){return t(e(n))}}function replaceHolders(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var o=t[n];o!==e&&o!==p||(t[n]=p,i[a++]=n)}return i}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function setToPairs(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function strictIndexOf(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}function strictLastIndexOf(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function stringSize(t){return hasUnicode(t)?unicodeSize(t):ln(t)}function stringToArray(t){return hasUnicode(t)?unicodeToArray(t):asciiToArray(t)}function unicodeSize(t){for(var e=Pe.lastIndex=0;Pe.test(t);)++e;return e}function unicodeToArray(t){return t.match(Pe)||[]}function unicodeWords(t){return t.match(Ne)||[]}var i,o="4.16.2",s=200,l="Unsupported core-js use. Try https://github.com/es-shims.",c="Expected a function",u="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",d=1,f=2,g=4,m=8,y=16,b=32,v=64,_=128,C=256,I=512,O=1,T=2,A=30,L="...",E=500,S=16,k=1,x=2,R=3,w=1/0,P=9007199254740991,N=1.7976931348623157e308,M=NaN,D=4294967295,H=D-1,U=D>>>1,F=[["ary",_],["bind",d],["bindKey",f],["curry",m],["curryRight",y],["flip",I],["partial",b],["partialRight",v],["rearg",C]],j="[object Arguments]",z="[object Array]",G="[object Boolean]",W="[object Date]",B="[object Error]",q="[object Function]",Y="[object GeneratorFunction]",V="[object Map]",K="[object Number]",X="[object Object]",$="[object Promise]",Z="[object RegExp]",J="[object Set]",Q="[object String]",tt="[object Symbol]",et="[object WeakMap]",nt="[object WeakSet]",rt="[object ArrayBuffer]",at="[object DataView]",it="[object Float32Array]",ot="[object Float64Array]",st="[object Int8Array]",lt="[object Int16Array]",ct="[object Int32Array]",ut="[object Uint8Array]",ht="[object Uint8ClampedArray]",pt="[object Uint16Array]",dt="[object Uint32Array]",ft=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,vt=RegExp(yt.source),_t=RegExp(bt.source),Ct=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Lt=/^\./,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(St.source),xt=/^\s+|\s+$/g,Rt=/^\s+/,wt=/\s+$/,Pt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,jt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Wt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Kt="\\ud800-\\udfff",Xt="\\u0300-\\u036f\\ufe20-\\ufe23",$t="\\u20d0-\\u20f0",Zt="\\u2700-\\u27bf",Jt="a-z\\xdf-\\xf6\\xf8-\\xff",Qt="\\xac\\xb1\\xd7\\xf7",te="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ee="\\u2000-\\u206f",ne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",re="A-Z\\xc0-\\xd6\\xd8-\\xde",ae="\\ufe0e\\ufe0f",ie=Qt+te+ee+ne,oe="['’]",se="["+Kt+"]",le="["+ie+"]",ce="["+Xt+$t+"]",ue="\\d+",he="["+Zt+"]",pe="["+Jt+"]",de="[^"+Kt+ie+ue+Zt+Jt+re+"]",fe="\\ud83c[\\udffb-\\udfff]",ge="(?:"+ce+"|"+fe+")",me="[^"+Kt+"]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",ve="["+re+"]",_e="\\u200d",Ce="(?:"+pe+"|"+de+")",Ie="(?:"+ve+"|"+de+")",Oe="(?:"+oe+"(?:d|ll|m|re|s|t|ve))?",Te="(?:"+oe+"(?:D|LL|M|RE|S|T|VE))?",Ae=ge+"?",Le="["+ae+"]?",Ee="(?:"+_e+"(?:"+[me,ye,be].join("|")+")"+Le+Ae+")*",Se=Le+Ae+Ee,ke="(?:"+[he,ye,be].join("|")+")"+Se,xe="(?:"+[me+ce+"?",ce,ye,be,se].join("|")+")",Re=RegExp(oe,"g"),we=RegExp(ce,"g"),Pe=RegExp(fe+"(?="+fe+")|"+xe+Se,"g"),Ne=RegExp([ve+"?"+pe+"+"+Oe+"(?="+[le,ve,"$"].join("|")+")",Ie+"+"+Te+"(?="+[le,ve+Ce,"$"].join("|")+")",ve+"?"+Ce+"+"+Oe,ve+"+"+Te,ue,ke].join("|"),"g"),Me=RegExp("["+_e+Kt+Xt+$t+ae+"]"),De=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,He=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ue=-1,Fe={};Fe[it]=Fe[ot]=Fe[st]=Fe[lt]=Fe[ct]=Fe[ut]=Fe[ht]=Fe[pt]=Fe[dt]=!0,Fe[j]=Fe[z]=Fe[rt]=Fe[G]=Fe[at]=Fe[W]=Fe[B]=Fe[q]=Fe[V]=Fe[K]=Fe[X]=Fe[Z]=Fe[J]=Fe[Q]=Fe[et]=!1;var je={};je[j]=je[z]=je[rt]=je[at]=je[G]=je[W]=je[it]=je[ot]=je[st]=je[lt]=je[ct]=je[V]=je[K]=je[X]=je[Z]=je[J]=je[Q]=je[tt]=je[ut]=je[ht]=je[pt]=je[dt]=!0,je[B]=je[q]=je[et]=!1;var ze={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=parseFloat,Ye=parseInt,Ve="object"==typeof t&&t&&t.Object===Object&&t,Ke="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ve||Ke||Function("return this")(),$e="object"==typeof e&&e&&!e.nodeType&&e,Ze=$e&&"object"==typeof a&&a&&!a.nodeType&&a,Je=Ze&&Ze.exports===$e,Qe=Je&&Ve.process,tn=function(){try{return Qe&&Qe.binding("util")}catch(t){}}(),en=tn&&tn.isArrayBuffer,nn=tn&&tn.isDate,rn=tn&&tn.isMap,an=tn&&tn.isRegExp,on=tn&&tn.isSet,sn=tn&&tn.isTypedArray,ln=baseProperty("length"),cn=basePropertyOf(ze),un=basePropertyOf(Ge),hn=basePropertyOf(We),pn=function runInContext(t){function lodash(t){if(isObjectLike(t)&&!Or(t)&&!(t instanceof LazyWrapper)){if(t instanceof LodashWrapper)return t;if(ae.call(t,"__wrapped__"))return wrapperClone(t)}return new LodashWrapper(t)}function baseLodash(){}function LodashWrapper(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function LazyWrapper(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function lazyClone(){var t=new LazyWrapper(this.__wrapped__);return t.__actions__=copyArray(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=copyArray(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=copyArray(this.__views__),t}function lazyReverse(){if(this.__filtered__){var t=new LazyWrapper(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function lazyValue(){var t=this.__wrapped__.value(),e=this.__dir__,n=Or(t),r=e<0,a=n?t.length:0,i=getView(0,a,this.__views__),o=i.start,l=i.end,c=l-o,u=r?l:o-1,h=this.__iteratees__,p=h.length,d=0,f=Ne(c,this.__takeCount__);if(!n||a<s||a==c&&f==c)return baseWrapperValue(t,this.__actions__);var g=[];t:for(;c--&&d<f;){u+=e;for(var m=-1,y=t[u];++m<p;){var b=h[m],v=b.iteratee,_=b.type,C=v(y);if(_==x)y=C;else if(!C){if(_==k)continue t;break t}}g[d++]=y}return g}function Hash(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hashClear(){this.__data__=Ze?Ze(null):{},this.size=0}function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function hashGet(t){var e=this.__data__;if(Ze){var n=e[t];return n===u?i:n}return ae.call(e,t)?e[t]:i}function hashHas(t){var e=this.__data__;return Ze?e[t]!==i:ae.call(e,t)}function hashSet(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ze&&e===i?u:e,this}function ListCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ve.call(e,n,1),--this.size,!0}function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?i:e[n][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var n=this.__data__,r=assocIndexOf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function MapCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Be||ListCache),string:new Hash}}function mapCacheDelete(t){var e=getMapData(this,t)["delete"](t);return this.size-=e?1:0,e}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var n=getMapData(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function SetCache(t){var e=-1,n=t?t.length:0;for(this.__data__=new MapCache;++e<n;)this.add(t[e])}function setCacheAdd(t){return this.__data__.set(t,u),this}function setCacheHas(t){return this.__data__.has(t)}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}function stackSet(t,e){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!Be||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(t,e),this.size=n.size,this}function arrayLikeKeys(t,e){var n=Or(t)||isArguments(t)?baseTimes(t.length,$t):[],r=n.length,a=!!r;for(var i in t)!e&&!ae.call(t,i)||a&&("length"==i||isIndex(i,r))||n.push(i);return n}function arraySample(t){var e=t.length;return e?t[baseRandom(0,e-1)]:i}function arraySampleSize(t,e){return shuffleSelf(copyArray(t),e)}function arrayShuffle(t){return shuffleSelf(copyArray(t))}function assignInDefaults(t,e,n,r){return t===i||eq(t,te[n])&&!ae.call(r,n)?e:t}function assignMergeValue(t,e,n){(n===i||eq(t[e],n))&&("number"!=typeof e||n!==i||e in t)||baseAssignValue(t,e,n)}function assignValue(t,e,n){var r=t[e];ae.call(t,e)&&eq(r,n)&&(n!==i||e in t)||baseAssignValue(t,e,n)}function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq(t[n][0],e))return n;return-1}function baseAggregator(t,e,n,r){return In(t,function(t,a,i){e(r,t,n(t),i)}),r}function baseAssign(t,e){return t&&copyObject(e,keys(e),t)}function baseAssignValue(t,e,n){"__proto__"==e&&fe?fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function baseAt(t,n){for(var r=-1,a=null==t,o=n.length,s=e(o);++r<o;)s[r]=a?i:get(t,n[r]);return s}function baseClamp(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function baseClone(t,e,n,r,a,o,s){var l;if(r&&(l=o?r(t,a,o,s):r(t)),l!==i)return l;if(!isObject(t))return t;var c=Or(t);if(c){if(l=initCloneArray(t),!e)return copyArray(t,l)}else{var u=Nn(t),h=u==q||u==Y;if(Ar(t))return cloneBuffer(t,e);if(u==X||u==j||h&&!o){if(l=initCloneObject(h?{}:t),!e)return copySymbols(t,baseAssign(l,t))}else{if(!je[u])return o?t:{};l=initCloneByTag(t,u,baseClone,e)}}s||(s=new Stack);var p=s.get(t);if(p)return p;if(s.set(t,l),!c)var d=n?getAllKeys(t):keys(t);return arrayEach(d||t,function(a,i){d&&(i=a,a=t[i]),assignValue(l,i,baseClone(a,e,n,r,i,t,s))}),l}function baseConforms(t){var e=keys(t);return function(n){return baseConformsTo(n,t,e)}}function baseConformsTo(t,e,n){var r=n.length;if(null==t)return!r;for(t=Kt(t);r--;){var a=n[r],o=e[a],s=t[a];if(s===i&&!(a in t)||!o(s))return!1}return!0}function baseDelay(t,e,n){if("function"!=typeof t)throw new Zt(c);return Hn(function(){t.apply(i,n)},e)}function baseDifference(t,e,n,r){var a=-1,i=arrayIncludes,o=!0,l=t.length,c=[],u=e.length;if(!l)return c;n&&(e=arrayMap(e,baseUnary(n))),r?(i=arrayIncludesWith,o=!1):e.length>=s&&(i=cacheHas,o=!1,e=new SetCache(e));t:for(;++a<l;){var h=t[a],p=n?n(h):h;if(h=r||0!==h?h:0,o&&p===p){for(var d=u;d--;)if(e[d]===p)continue t;c.push(h)}else i(e,p,r)||c.push(h)}return c}function baseEvery(t,e){var n=!0;return In(t,function(t,r,a){return n=!!e(t,r,a)}),n}function baseExtremum(t,e,n){for(var r=-1,a=t.length;++r<a;){var o=t[r],s=e(o);if(null!=s&&(l===i?s===s&&!isSymbol(s):n(s,l)))var l=s,c=o}return c}function baseFill(t,e,n,r){var a=t.length;for(n=toInteger(n),n<0&&(n=-n>a?0:a+n),r=r===i||r>a?a:toInteger(r),r<0&&(r+=a),r=n>r?0:toLength(r);n<r;)t[n++]=e;return t}function baseFilter(t,e){var n=[];return In(t,function(t,r,a){e(t,r,a)&&n.push(t)}),n}function baseFlatten(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=isFlattenable),a||(a=[]);++i<o;){var s=t[i];e>0&&n(s)?e>1?baseFlatten(s,e-1,n,r,a):arrayPush(a,s):r||(a[a.length]=s)}return a}function baseForOwn(t,e){return t&&Tn(t,e,keys)}function baseForOwnRight(t,e){return t&&An(t,e,keys)}function baseFunctions(t,e){return arrayFilter(e,function(e){return isFunction(t[e])})}function baseGet(t,e){e=isKey(e,t)?[e]:castPath(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[toKey(e[n++])];return n&&n==r?t:i}function baseGetAllKeys(t,e,n){var r=e(t);return Or(t)?r:arrayPush(r,n(t))}function baseGetTag(t){return se.call(t)}function baseGt(t,e){return t>e}function baseHas(t,e){return null!=t&&ae.call(t,e)}function baseHasIn(t,e){return null!=t&&e in Kt(t)}function baseInRange(t,e,n){return t>=Ne(e,n)&&t<Pe(e,n)}function baseIntersection(t,n,r){for(var a=r?arrayIncludesWith:arrayIncludes,o=t[0].length,s=t.length,l=s,c=e(s),u=1/0,h=[];l--;){var p=t[l];l&&n&&(p=arrayMap(p,baseUnary(n))),u=Ne(p.length,u),c[l]=!r&&(n||o>=120&&p.length>=120)?new SetCache(l&&p):i}p=t[0];var d=-1,f=c[0];t:for(;++d<o&&h.length<u;){var g=p[d],m=n?n(g):g;if(g=r||0!==g?g:0,!(f?cacheHas(f,m):a(h,m,r))){for(l=s;--l;){var y=c[l];if(!(y?cacheHas(y,m):a(t[l],m,r)))continue t}f&&f.push(m),h.push(g)}}return h}function baseInverter(t,e,n,r){return baseForOwn(t,function(t,a,i){e(r,n(t),a,i)}),r}function baseInvoke(t,e,n){isKey(e,t)||(e=castPath(e),t=parent(t,e),e=last(e));var r=null==t?t:t[toKey(e)];return null==r?i:apply(r,t,n)}function baseIsArrayBuffer(t){return isObjectLike(t)&&se.call(t)==rt}function baseIsDate(t){return isObjectLike(t)&&se.call(t)==W}function baseIsEqual(t,e,n,r,a){return t===e||(null==t||null==e||!isObject(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,baseIsEqual,n,r,a))}function baseIsEqualDeep(t,e,n,r,a,i){var o=Or(t),s=Or(e),l=z,c=z;o||(l=Nn(t),l=l==j?X:l),s||(c=Nn(e),c=c==j?X:c);var u=l==X,h=c==X,p=l==c;if(p&&!u)return i||(i=new Stack),o||xr(t)?equalArrays(t,e,n,r,a,i):equalByTag(t,e,l,n,r,a,i);if(!(a&T)){var d=u&&ae.call(t,"__wrapped__"),f=h&&ae.call(e,"__wrapped__");if(d||f){var g=d?t.value():t,m=f?e.value():e;return i||(i=new Stack),n(g,m,r,a,i)}}return!!p&&(i||(i=new Stack),equalObjects(t,e,n,r,a,i))}function baseIsMap(t){return isObjectLike(t)&&Nn(t)==V}function baseIsMatch(t,e,n,r){var a=n.length,o=a,s=!r;if(null==t)return!o;for(t=Kt(t);a--;){var l=n[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){l=n[a];var c=l[0],u=t[c],h=l[1];if(s&&l[2]){if(u===i&&!(c in t))return!1}else{var p=new Stack;if(r)var d=r(u,h,c,t,e,p);if(!(d===i?baseIsEqual(h,u,r,O|T,p):d))return!1}}return!0}function baseIsNative(t){if(!isObject(t)||isMasked(t))return!1;var e=isFunction(t)?ce:Gt;return e.test(toSource(t))}function baseIsRegExp(t){return isObject(t)&&se.call(t)==Z}function baseIsSet(t){return isObjectLike(t)&&Nn(t)==J}function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!Fe[se.call(t)]}function baseIteratee(t){return"function"==typeof t?t:null==t?identity:"object"==typeof t?Or(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function baseKeys(t){if(!isPrototype(t))return xe(t);var e=[];for(var n in Kt(t))ae.call(t,n)&&"constructor"!=n&&e.push(n);return e}function baseKeysIn(t){if(!isObject(t))return nativeKeysIn(t);var e=isPrototype(t),n=[];for(var r in t)("constructor"!=r||!e&&ae.call(t,r))&&n.push(r);return n}function baseLt(t,e){return t<e}function baseMap(t,n){var r=-1,a=isArrayLike(t)?e(t.length):[];return In(t,function(t,e,i){a[++r]=n(t,e,i)}),a}function baseMatches(t){var e=getMatchData(t);return 1==e.length&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(n){return n===t||baseIsMatch(n,t,e)}}function baseMatchesProperty(t,e){return isKey(t)&&isStrictComparable(e)?matchesStrictComparable(toKey(t),e):function(n){var r=get(n,t);return r===i&&r===e?hasIn(n,t):baseIsEqual(e,r,i,O|T)}}function baseMerge(t,e,n,r,a){if(t!==e){if(!Or(e)&&!xr(e))var o=baseKeysIn(e);arrayEach(o||e,function(s,l){if(o&&(l=s,s=e[l]),isObject(s))a||(a=new Stack),baseMergeDeep(t,e,l,n,baseMerge,r,a);else{var c=r?r(t[l],s,l+"",t,e,a):i;c===i&&(c=s),assignMergeValue(t,l,c)}})}}function baseMergeDeep(t,e,n,r,a,o,s){var l=t[n],c=e[n],u=s.get(c);if(u)return void assignMergeValue(t,n,u);var h=o?o(l,c,n+"",t,e,s):i,p=h===i;p&&(h=c,Or(c)||xr(c)?Or(l)?h=l:isArrayLikeObject(l)?h=copyArray(l):(p=!1,h=baseClone(c,!0)):isPlainObject(c)||isArguments(c)?isArguments(l)?h=toPlainObject(l):!isObject(l)||r&&isFunction(l)?(p=!1,h=baseClone(c,!0)):h=l:p=!1),p&&(s.set(c,h),a(h,c,r,o,s),s["delete"](c)),assignMergeValue(t,n,h)}function baseNth(t,e){var n=t.length;if(n)return e+=e<0?n:0,isIndex(e,n)?t[e]:i}function baseOrderBy(t,e,n){var r=-1;e=arrayMap(e.length?e:[identity],baseUnary(getIteratee()));var a=baseMap(t,function(t,n,a){var i=arrayMap(e,function(e){return e(t)});return{criteria:i,index:++r,value:t}});return baseSortBy(a,function(t,e){return compareMultiple(t,e,n)})}function basePick(t,e){return t=Kt(t),basePickBy(t,e,function(e,n){return n in t})}function basePickBy(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var o=e[r],s=t[o];n(s,o)&&baseAssignValue(i,o,s)}return i}function basePropertyDeep(t){return function(e){return baseGet(e,t)}}function basePullAll(t,e,n,r){var a=r?baseIndexOfWith:baseIndexOf,i=-1,o=e.length,s=t;
for(t===e&&(e=copyArray(e)),n&&(s=arrayMap(t,baseUnary(n)));++i<o;)for(var l=0,c=e[i],u=n?n(c):c;(l=a(s,u,l,r))>-1;)s!==t&&ve.call(s,l,1),ve.call(t,l,1);return t}function basePullAt(t,e){for(var n=t?e.length:0,r=n-1;n--;){var a=e[n];if(n==r||a!==i){var i=a;if(isIndex(a))ve.call(t,a,1);else if(isKey(a,t))delete t[toKey(a)];else{var o=castPath(a),s=parent(t,o);null!=s&&delete s[toKey(last(o))]}}}return t}function baseRandom(t,e){return t+Ae(ze()*(e-t+1))}function baseRange(t,n,r,a){for(var i=-1,o=Pe(Te((n-t)/(r||1)),0),s=e(o);o--;)s[a?o:++i]=t,t+=r;return s}function baseRepeat(t,e){var n="";if(!t||e<1||e>P)return n;do e%2&&(n+=t),e=Ae(e/2),e&&(t+=t);while(e);return n}function baseRest(t,e){return Un(overRest(t,e,identity),t+"")}function baseSample(t){return arraySample(values(t))}function baseSampleSize(t,e){return shuffleSelf(values(t),e)}function baseSet(t,e,n,r){if(!isObject(t))return t;e=isKey(e,t)?[e]:castPath(e);for(var a=-1,o=e.length,s=o-1,l=t;null!=l&&++a<o;){var c=toKey(e[a]),u=n;if(a!=s){var h=l[c];u=r?r(h,c,l):i,u===i&&(u=isObject(h)?h:isIndex(e[a+1])?[]:{})}assignValue(l,c,u),l=l[c]}return t}function baseShuffle(t){return shuffleSelf(values(t))}function baseSlice(t,n,r){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=e(i);++a<i;)o[a]=t[a+n];return o}function baseSome(t,e){var n;return In(t,function(t,r,a){return n=e(t,r,a),!n}),!!n}function baseSortedIndex(t,e,n){var r=0,a=t?t.length:r;if("number"==typeof e&&e===e&&a<=U){for(;r<a;){var i=r+a>>>1,o=t[i];null!==o&&!isSymbol(o)&&(n?o<=e:o<e)?r=i+1:a=i}return a}return baseSortedIndexBy(t,e,identity,n)}function baseSortedIndexBy(t,e,n,r){e=n(e);for(var a=0,o=t?t.length:0,s=e!==e,l=null===e,c=isSymbol(e),u=e===i;a<o;){var h=Ae((a+o)/2),p=n(t[h]),d=p!==i,f=null===p,g=p===p,m=isSymbol(p);if(s)var y=r||g;else y=u?g&&(r||d):l?g&&d&&(r||!f):c?g&&d&&!f&&(r||!m):!f&&!m&&(r?p<=e:p<e);y?a=h+1:o=h}return Ne(o,H)}function baseSortedUniq(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!eq(s,l)){var l=s;i[a++]=0===o?0:o}}return i}function baseToNumber(t){return"number"==typeof t?t:isSymbol(t)?M:+t}function baseToString(t){if("string"==typeof t)return t;if(isSymbol(t))return _n?_n.call(t):"";var e=t+"";return"0"==e&&1/t==-w?"-0":e}function baseUniq(t,e,n){var r=-1,a=arrayIncludes,i=t.length,o=!0,l=[],c=l;if(n)o=!1,a=arrayIncludesWith;else if(i>=s){var u=e?null:xn(t);if(u)return setToArray(u);o=!1,a=cacheHas,c=new SetCache}else c=e?[]:l;t:for(;++r<i;){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,o&&p===p){for(var d=c.length;d--;)if(c[d]===p)continue t;e&&c.push(p),l.push(h)}else a(c,p,n)||(c!==l&&c.push(p),l.push(h))}return l}function baseUnset(t,e){e=isKey(e,t)?[e]:castPath(e),t=parent(t,e);var n=toKey(last(e));return!(null!=t&&ae.call(t,n))||delete t[n]}function baseUpdate(t,e,n,r){return baseSet(t,e,n(baseGet(t,e)),r)}function baseWhile(t,e,n,r){for(var a=t.length,i=r?a:-1;(r?i--:++i<a)&&e(t[i],i,t););return n?baseSlice(t,r?0:i,r?i+1:a):baseSlice(t,r?i+1:0,r?a:i)}function baseWrapperValue(t,e){var n=t;return n instanceof LazyWrapper&&(n=n.value()),arrayReduce(e,function(t,e){return e.func.apply(e.thisArg,arrayPush([t],e.args))},n)}function baseXor(t,e,n){for(var r=-1,a=t.length;++r<a;)var i=i?arrayPush(baseDifference(i,t[r],e,n),baseDifference(t[r],i,e,n)):t[r];return i&&i.length?baseUniq(i,e,n):[]}function baseZipObject(t,e,n){for(var r=-1,a=t.length,o=e.length,s={};++r<a;){var l=r<o?e[r]:i;n(s,t[r],l)}return s}function castArrayLikeObject(t){return isArrayLikeObject(t)?t:[]}function castFunction(t){return"function"==typeof t?t:identity}function castPath(t){return Or(t)?t:Fn(t)}function castSlice(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:baseSlice(t,e,n)}function cloneBuffer(t,e){if(e)return t.slice();var n=t.length,r=de?de(n):new t.constructor(n);return t.copy(r),r}function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new pe(e).set(new pe(t)),e}function cloneDataView(t,e){var n=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function cloneMap(t,e,n){var r=e?n(mapToArray(t),!0):mapToArray(t);return arrayReduce(r,addMapEntry,new t.constructor)}function cloneRegExp(t){var e=new t.constructor(t.source,Ft.exec(t));return e.lastIndex=t.lastIndex,e}function cloneSet(t,e,n){var r=e?n(setToArray(t),!0):setToArray(t);return arrayReduce(r,addSetEntry,new t.constructor)}function cloneSymbol(t){return vn?Kt(vn.call(t)):{}}function cloneTypedArray(t,e){var n=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function compareAscending(t,e){if(t!==e){var n=t!==i,r=null===t,a=t===t,o=isSymbol(t),s=e!==i,l=null===e,c=e===e,u=isSymbol(e);if(!l&&!u&&!o&&t>e||o&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!a)return 1;if(!r&&!o&&!u&&t<e||u&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}function compareMultiple(t,e,n){for(var r=-1,a=t.criteria,i=e.criteria,o=a.length,s=n.length;++r<o;){var l=compareAscending(a[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*("desc"==c?-1:1)}}return t.index-e.index}function composeArgs(t,n,r,a){for(var i=-1,o=t.length,s=r.length,l=-1,c=n.length,u=Pe(o-s,0),h=e(c+u),p=!a;++l<c;)h[l]=n[l];for(;++i<s;)(p||i<o)&&(h[r[i]]=t[i]);for(;u--;)h[l++]=t[i++];return h}function composeArgsRight(t,n,r,a){for(var i=-1,o=t.length,s=-1,l=r.length,c=-1,u=n.length,h=Pe(o-l,0),p=e(h+u),d=!a;++i<h;)p[i]=t[i];for(var f=i;++c<u;)p[f+c]=n[c];for(;++s<l;)(d||i<o)&&(p[f+r[s]]=t[i++]);return p}function copyArray(t,n){var r=-1,a=t.length;for(n||(n=e(a));++r<a;)n[r]=t[r];return n}function copyObject(t,e,n,r){var a=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),a?baseAssignValue(n,l,c):assignValue(n,l,c)}return n}function copySymbols(t,e){return copyObject(t,wn(t),e)}function createAggregator(t,e){return function(n,r){var a=Or(n)?arrayAggregator:baseAggregator,i=e?e():{};return a(n,t,getIteratee(r,2),i)}}function createAssigner(t){return baseRest(function(e,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(a--,o):i,s&&isIterateeCall(n[0],n[1],s)&&(o=a<3?i:o,a=1),e=Kt(e);++r<a;){var l=n[r];l&&t(e,l,r,o)}return e})}function createBaseEach(t,e){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=Kt(n);(e?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}function createBaseFor(t){return function(e,n,r){for(var a=-1,i=Kt(e),o=r(e),s=o.length;s--;){var l=o[t?s:++a];if(n(i[l],l,i)===!1)break}return e}}function createBind(t,e,n){function wrapper(){var e=this&&this!==Xe&&this instanceof wrapper?a:t;return e.apply(r?n:this,arguments)}var r=e&d,a=createCtor(t);return wrapper}function createCaseFirst(t){return function(e){e=toString(e);var n=hasUnicode(e)?stringToArray(e):i,r=n?n[0]:e.charAt(0),a=n?castSlice(n,1).join(""):e.slice(1);return r[t]()+a}}function createCompounder(t){return function(e){return arrayReduce(words(deburr(e).replace(Re,"")),t,"")}}function createCtor(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cn(t.prototype),r=t.apply(n,e);return isObject(r)?r:n}}function createCurry(t,n,r){function wrapper(){for(var o=arguments.length,s=e(o),l=o,c=getHolder(wrapper);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:replaceHolders(s,c);if(o-=u.length,o<r)return createRecurry(t,n,createHybrid,wrapper.placeholder,i,s,u,i,i,r-o);var h=this&&this!==Xe&&this instanceof wrapper?a:t;return apply(h,this,s)}var a=createCtor(t);return wrapper}function createFind(t){return function(e,n,r){var a=Kt(e);if(!isArrayLike(e)){var o=getIteratee(n,3);e=keys(e),n=function(t){return o(a[t],t,a)}}var s=t(e,n,r);return s>-1?a[o?e[s]:s]:i}}function createFlow(t){return flatRest(function(e){var n=e.length,r=n,a=LodashWrapper.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Zt(c);if(a&&!l&&"wrapper"==getFuncName(o))var l=new LodashWrapper([],(!0))}for(r=l?r:n;++r<n;){o=e[r];var u=getFuncName(o),h="wrapper"==u?Rn(o):i;l=h&&isLaziable(h[0])&&h[1]==(_|m|b|C)&&!h[4].length&&1==h[9]?l[getFuncName(h[0])].apply(l,h[3]):1==o.length&&isLaziable(o)?l[u]():l.thru(o)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Or(r)&&r.length>=s)return l.plant(r).value();for(var a=0,i=n?e[a].apply(this,t):r;++a<n;)i=e[a].call(this,i);return i}})}function createHybrid(t,n,r,a,o,s,l,c,u,h){function wrapper(){for(var i=arguments.length,d=e(i),f=i;f--;)d[f]=arguments[f];if(v)var m=getHolder(wrapper),y=countHolders(d,m);if(a&&(d=composeArgs(d,a,o,v)),s&&(d=composeArgsRight(d,s,l,v)),i-=y,v&&i<h){var _=replaceHolders(d,m);return createRecurry(t,n,createHybrid,wrapper.placeholder,r,d,_,c,u,h-i)}var I=g?r:this,T=b?I[t]:t;return i=d.length,c?d=reorder(d,c):C&&i>1&&d.reverse(),p&&u<i&&(d.length=u),this&&this!==Xe&&this instanceof wrapper&&(T=O||createCtor(T)),T.apply(I,d)}var p=n&_,g=n&d,b=n&f,v=n&(m|y),C=n&I,O=b?i:createCtor(t);return wrapper}function createInverter(t,e){return function(n,r){return baseInverter(n,t,e(r),{})}}function createMathOperation(t,e){return function(n,r){var a;if(n===i&&r===i)return e;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=baseToString(n),r=baseToString(r)):(n=baseToNumber(n),r=baseToNumber(r)),a=t(n,r)}return a}}function createOver(t){return flatRest(function(e){return e=arrayMap(e,baseUnary(getIteratee())),baseRest(function(n){var r=this;return t(e,function(t){return apply(t,r,n)})})})}function createPadding(t,e){e=e===i?" ":baseToString(e);var n=e.length;if(n<2)return n?baseRepeat(e,t):e;var r=baseRepeat(e,Te(t/stringSize(e)));return hasUnicode(e)?castSlice(stringToArray(r),0,t).join(""):r.slice(0,t)}function createPartial(t,n,r,a){function wrapper(){for(var n=-1,s=arguments.length,l=-1,c=a.length,u=e(c+s),h=this&&this!==Xe&&this instanceof wrapper?o:t;++l<c;)u[l]=a[l];for(;s--;)u[l++]=arguments[++n];return apply(h,i?r:this,u)}var i=n&d,o=createCtor(t);return wrapper}function createRange(t){return function(e,n,r){return r&&"number"!=typeof r&&isIterateeCall(e,n,r)&&(n=r=i),e=toFinite(e),n===i?(n=e,e=0):n=toFinite(n),r=r===i?e<n?1:-1:toFinite(r),baseRange(e,n,r,t)}}function createRelationalOperation(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=toNumber(e),n=toNumber(n)),t(e,n)}}function createRecurry(t,e,n,r,a,o,s,l,c,u){var h=e&m,p=h?s:i,y=h?i:s,_=h?o:i,C=h?i:o;e|=h?b:v,e&=~(h?v:b),e&g||(e&=~(d|f));var I=[t,e,a,_,p,C,y,l,c,u],O=n.apply(i,I);return isLaziable(t)&&Dn(O,I),O.placeholder=r,setWrapToString(O,t,e)}function createRound(t){var e=Dt[t];return function(t,n){if(t=toNumber(t),n=Ne(toInteger(n),292)){var r=(toString(t)+"e").split("e"),a=e(r[0]+"e"+(+r[1]+n));return r=(toString(a)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function createToPairs(t){return function(e){var n=Nn(e);return n==V?mapToArray(e):n==J?setToPairs(e):baseToPairs(e,t(e))}}function createWrap(t,e,n,r,a,o,s,l){var u=e&f;if(!u&&"function"!=typeof t)throw new Zt(c);var h=r?r.length:0;if(h||(e&=~(b|v),r=a=i),s=s===i?s:Pe(toInteger(s),0),l=l===i?l:toInteger(l),h-=a?a.length:0,e&v){var p=r,g=a;r=a=i}var _=u?i:Rn(t),C=[t,e,n,r,a,p,g,o,s,l];if(_&&mergeData(C,_),t=C[0],e=C[1],n=C[2],r=C[3],a=C[4],l=C[9]=null==C[9]?u?0:t.length:Pe(C[9]-h,0),!l&&e&(m|y)&&(e&=~(m|y)),e&&e!=d)I=e==m||e==y?createCurry(t,e,l):e!=b&&e!=(d|b)||a.length?createHybrid.apply(i,C):createPartial(t,e,n,r);else var I=createBind(t,e,n);var O=_?Ln:Dn;return setWrapToString(O(I,C),t,e)}function equalArrays(t,e,n,r,a,o){var s=a&T,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var h=-1,p=!0,d=a&O?new SetCache:i;for(o.set(t,e),o.set(e,t);++h<l;){var f=t[h],g=e[h];if(r)var m=s?r(g,f,h,e,t,o):r(f,g,h,t,e,o);if(m!==i){if(m)continue;p=!1;break}if(d){if(!arraySome(e,function(t,e){if(!cacheHas(d,e)&&(f===t||n(f,t,r,a,o)))return d.push(e)})){p=!1;break}}else if(f!==g&&!n(f,g,r,a,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function equalByTag(t,e,n,r,a,i,o){switch(n){case at:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rt:return!(t.byteLength!=e.byteLength||!r(new pe(t),new pe(e)));case G:case W:case K:return eq(+t,+e);case B:return t.name==e.name&&t.message==e.message;case Z:case Q:return t==e+"";case V:var s=mapToArray;case J:var l=i&T;if(s||(s=setToArray),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=O,o.set(t,e);var u=equalArrays(s(t),s(e),r,a,i,o);return o["delete"](t),u;case tt:if(vn)return vn.call(t)==vn.call(e)}return!1}function equalObjects(t,e,n,r,a,o){var s=a&T,l=keys(t),c=l.length,u=keys(e),h=u.length;if(c!=h&&!s)return!1;for(var p=c;p--;){var d=l[p];if(!(s?d in e:ae.call(e,d)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var g=!0;o.set(t,e),o.set(e,t);for(var m=s;++p<c;){d=l[p];var y=t[d],b=e[d];if(r)var v=s?r(b,y,d,e,t,o):r(y,b,d,t,e,o);if(!(v===i?y===b||n(y,b,r,a,o):v)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=t.constructor,C=e.constructor;_!=C&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof C&&C instanceof C)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function flatRest(t){return Un(overRest(t,i,flatten),t+"")}function getAllKeys(t){return baseGetAllKeys(t,keys,wn)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,Pn)}function getFuncName(t){for(var e=t.name+"",n=ln[e],r=ae.call(ln,e)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==t)return a.name}return e}function getHolder(t){var e=ae.call(lodash,"placeholder")?lodash:t;return e.placeholder}function getIteratee(){var t=lodash.iteratee||iteratee;return t=t===iteratee?baseIteratee:t,arguments.length?t(arguments[0],arguments[1]):t}function getMapData(t,e){var n=t.__data__;return isKeyable(e)?n["string"==typeof e?"string":"hash"]:n.map}function getMatchData(t){for(var e=keys(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,isStrictComparable(a)]}return e}function getNative(t,e){var n=getValue(t,e);return baseIsNative(n)?n:i}function getView(t,e,n){for(var r=-1,a=n.length;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Ne(e,t+o);break;case"takeRight":t=Pe(t,e-o)}}return{start:t,end:e}}function getWrapDetails(t){var e=t.match(Nt);return e?e[1].split(Mt):[]}function hasPath(t,e,n){e=isKey(e,t)?[e]:castPath(e);for(var r=-1,a=e.length,i=!1;++r<a;){var o=toKey(e[r]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++r!=a?i:(a=t?t.length:0,!!a&&isLength(a)&&isIndex(o,a)&&(Or(t)||isArguments(t)))}function initCloneArray(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ae.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function initCloneObject(t){return"function"!=typeof t.constructor||isPrototype(t)?{}:Cn(ge(t))}function initCloneByTag(t,e,n,r){var a=t.constructor;switch(e){case rt:return cloneArrayBuffer(t);case G:case W:return new a((+t));case at:return cloneDataView(t,r);case it:case ot:case st:case lt:case ct:case ut:case ht:case pt:case dt:return cloneTypedArray(t,r);case V:return cloneMap(t,r,n);case K:case Q:return new a(t);case Z:return cloneRegExp(t);case J:return cloneSet(t,r,n);case tt:return cloneSymbol(t)}}function insertWrapDetails(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Pt,"{\n/* [wrapped with "+e+"] */\n")}function isFlattenable(t){return Or(t)||isArguments(t)||!!(_e&&t&&t[_e])}function isIndex(t,e){return e=null==e?P:e,!!e&&("number"==typeof t||Bt.test(t))&&t>-1&&t%1==0&&t<e}function isIterateeCall(t,e,n){if(!isObject(n))return!1;var r=typeof e;return!!("number"==r?isArrayLike(n)&&isIndex(e,n.length):"string"==r&&e in n)&&eq(n[e],t)}function isKey(t,e){if(Or(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!isSymbol(t))||(At.test(t)||!Tt.test(t)||null!=e&&t in Kt(e))}function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function isLaziable(t){var e=getFuncName(t),n=lodash[e];if("function"!=typeof n||!(e in LazyWrapper.prototype))return!1;if(t===n)return!0;var r=Rn(n);return!!r&&t===r[0]}function isMasked(t){return!!ne&&ne in t}function isPrototype(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||te;return t===n}function isStrictComparable(t){return t===t&&!isObject(t)}function matchesStrictComparable(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Kt(n)))}}function memoizeCapped(t){var e=memoize(t,function(t){return n.size===h&&n.clear(),t}),n=e.cache;return e}function mergeData(t,e){var n=t[1],r=e[1],a=n|r,i=a<(d|f|_),o=r==_&&n==m||r==_&&n==C&&t[7].length<=e[8]||r==(_|C)&&e[7].length<=e[8]&&n==m;if(!i&&!o)return t;r&d&&(t[2]=e[2],a|=n&d?0:g);var s=e[3];if(s){var l=t[3];t[3]=l?composeArgs(l,s,e[4]):s,t[4]=l?replaceHolders(t[3],p):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?composeArgsRight(l,s,e[6]):s,t[6]=l?replaceHolders(t[5],p):e[6]),s=e[7],s&&(t[7]=s),r&_&&(t[8]=null==t[8]?e[8]:Ne(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a,t}function mergeDefaults(t,e,n,r,a,o){return isObject(t)&&isObject(e)&&(o.set(e,t),baseMerge(t,e,i,mergeDefaults,o),o["delete"](e)),t}function nativeKeysIn(t){var e=[];if(null!=t)for(var n in Kt(t))e.push(n);return e}function overRest(t,n,r){return n=Pe(n===i?t.length-1:n,0),function(){for(var a=arguments,i=-1,o=Pe(a.length-n,0),s=e(o);++i<o;)s[i]=a[n+i];i=-1;for(var l=e(n+1);++i<n;)l[i]=a[i];return l[n]=r(s),apply(t,this,l)}}function parent(t,e){return 1==e.length?t:baseGet(t,baseSlice(e,0,-1))}function reorder(t,e){for(var n=t.length,r=Ne(e.length,n),a=copyArray(t);r--;){var o=e[r];t[r]=isIndex(o,n)?a[o]:i}return t}function setWrapToString(t,e,n){var r=e+"";return Un(t,insertWrapDetails(r,updateWrapDetails(getWrapDetails(r),n)))}function shortOut(t){var e=0,n=0;return function(){var r=Me(),a=S-(r-n);if(n=r,a>0){if(++e>=E)return arguments[0]}else e=0;return t.apply(i,arguments)}}function shuffleSelf(t,e){var n=-1,r=t.length,a=r-1;for(e=e===i?r:baseClamp(e,0,r);++n<e;){var o=baseRandom(n,a),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-w?"-0":e}function toSource(t){if(null!=t){try{return re.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function updateWrapDetails(t,e){return arrayEach(F,function(n){var r="_."+n[0];e&n[1]&&!arrayIncludes(t,r)&&t.push(r)}),t.sort()}function wrapperClone(t){if(t instanceof LazyWrapper)return t.clone();var e=new LodashWrapper(t.__wrapped__,t.__chain__);return e.__actions__=copyArray(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function chunk(t,n,r){n=(r?isIterateeCall(t,n,r):n===i)?1:Pe(toInteger(n),0);var a=t?t.length:0;if(!a||n<1)return[];for(var o=0,s=0,l=e(Te(a/n));o<a;)l[s++]=baseSlice(t,o,o+=n);return l}function compact(t){for(var e=-1,n=t?t.length:0,r=0,a=[];++e<n;){var i=t[e];i&&(a[r++]=i)}return a}function concat(){var t=arguments.length;if(!t)return[];for(var n=e(t-1),r=arguments[0],a=t;a--;)n[a-1]=arguments[a];return arrayPush(Or(r)?copyArray(r):[r],baseFlatten(n,1))}function drop(t,e,n){var r=t?t.length:0;return r?(e=n||e===i?1:toInteger(e),baseSlice(t,e<0?0:e,r)):[]}function dropRight(t,e,n){var r=t?t.length:0;return r?(e=n||e===i?1:toInteger(e),e=r-e,baseSlice(t,0,e<0?0:e)):[]}function dropRightWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!0,!0):[]}function dropWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!0):[]}function fill(t,e,n,r){var a=t?t.length:0;return a?(n&&"number"!=typeof n&&isIterateeCall(t,e,n)&&(n=0,r=a),baseFill(t,e,n,r)):[]}function findIndex(t,e,n){var r=t?t.length:0;if(!r)return-1;var a=null==n?0:toInteger(n);return a<0&&(a=Pe(r+a,0)),baseFindIndex(t,getIteratee(e,3),a)}function findLastIndex(t,e,n){var r=t?t.length:0;if(!r)return-1;var a=r-1;return n!==i&&(a=toInteger(n),a=n<0?Pe(r+a,0):Ne(a,r-1)),baseFindIndex(t,getIteratee(e,3),a,!0)}function flatten(t){var e=t?t.length:0;return e?baseFlatten(t,1):[]}function flattenDeep(t){var e=t?t.length:0;return e?baseFlatten(t,w):[]}function flattenDepth(t,e){var n=t?t.length:0;return n?(e=e===i?1:toInteger(e),baseFlatten(t,e)):[]}function fromPairs(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r}function head(t){return t&&t.length?t[0]:i}function indexOf(t,e,n){var r=t?t.length:0;if(!r)return-1;var a=null==n?0:toInteger(n);return a<0&&(a=Pe(r+a,0)),baseIndexOf(t,e,a)}function initial(t){var e=t?t.length:0;return e?baseSlice(t,0,-1):[]}function join(t,e){return t?ke.call(t,e):""}function last(t){var e=t?t.length:0;return e?t[e-1]:i}function lastIndexOf(t,e,n){var r=t?t.length:0;if(!r)return-1;var a=r;return n!==i&&(a=toInteger(n),a=a<0?Pe(r+a,0):Ne(a,r-1)),e===e?strictLastIndexOf(t,e,a):baseFindIndex(t,baseIsNaN,a,!0)}function nth(t,e){return t&&t.length?baseNth(t,toInteger(e)):i}function pullAll(t,e){return t&&t.length&&e&&e.length?basePullAll(t,e):t}function pullAllBy(t,e,n){return t&&t.length&&e&&e.length?basePullAll(t,e,getIteratee(n,2)):t}function pullAllWith(t,e,n){return t&&t.length&&e&&e.length?basePullAll(t,e,i,n):t}function remove(t,e){var n=[];if(!t||!t.length)return n;var r=-1,a=[],i=t.length;for(e=getIteratee(e,3);++r<i;){var o=t[r];e(o,r,t)&&(n.push(o),a.push(r))}return basePullAt(t,a),n}function reverse(t){return t?Ge.call(t):t}function slice(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&isIterateeCall(t,e,n)?(e=0,n=r):(e=null==e?0:toInteger(e),n=n===i?r:toInteger(n)),baseSlice(t,e,n)):[]}function sortedIndex(t,e){return baseSortedIndex(t,e)}function sortedIndexBy(t,e,n){return baseSortedIndexBy(t,e,getIteratee(n,2))}function sortedIndexOf(t,e){var n=t?t.length:0;if(n){var r=baseSortedIndex(t,e);if(r<n&&eq(t[r],e))return r}return-1}function sortedLastIndex(t,e){return baseSortedIndex(t,e,!0)}function sortedLastIndexBy(t,e,n){return baseSortedIndexBy(t,e,getIteratee(n,2),!0)}function sortedLastIndexOf(t,e){var n=t?t.length:0;if(n){var r=baseSortedIndex(t,e,!0)-1;if(eq(t[r],e))return r}return-1}function sortedUniq(t){return t&&t.length?baseSortedUniq(t):[]}function sortedUniqBy(t,e){return t&&t.length?baseSortedUniq(t,getIteratee(e,2)):[]}function tail(t){var e=t?t.length:0;return e?baseSlice(t,1,e):[]}function take(t,e,n){return t&&t.length?(e=n||e===i?1:toInteger(e),baseSlice(t,0,e<0?0:e)):[]}function takeRight(t,e,n){var r=t?t.length:0;return r?(e=n||e===i?1:toInteger(e),e=r-e,baseSlice(t,e<0?0:e,r)):[]}function takeRightWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!1,!0):[]}function takeWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3)):[]}function uniq(t){return t&&t.length?baseUniq(t):[]}function uniqBy(t,e){return t&&t.length?baseUniq(t,getIteratee(e,2)):[]}function uniqWith(t,e){return t&&t.length?baseUniq(t,i,e):[]}function unzip(t){if(!t||!t.length)return[];var e=0;return t=arrayFilter(t,function(t){if(isArrayLikeObject(t))return e=Pe(t.length,e),!0}),baseTimes(e,function(e){return arrayMap(t,baseProperty(e))})}function unzipWith(t,e){if(!t||!t.length)return[];var n=unzip(t);return null==e?n:arrayMap(n,function(t){return apply(e,i,t)})}function zipObject(t,e){return baseZipObject(t||[],e||[],assignValue)}function zipObjectDeep(t,e){return baseZipObject(t||[],e||[],baseSet)}function chain(t){var e=lodash(t);return e.__chain__=!0,e}function tap(t,e){return e(t),t}function thru(t,e){return e(t)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===i&&(this.__values__=toArray(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function wrapperToIterator(){return this}function wrapperPlant(t){for(var e,n=this;n instanceof baseLodash;){var r=wrapperClone(n);r.__index__=0,r.__values__=i,e?a.__wrapped__=r:e=r;var a=r;n=n.__wrapped__}return a.__wrapped__=t,e}function wrapperReverse(){var t=this.__wrapped__;if(t instanceof LazyWrapper){var e=t;return this.__actions__.length&&(e=new LazyWrapper(this)),e=e.reverse(),e.__actions__.push({func:thru,args:[reverse],thisArg:i}),new LodashWrapper(e,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(t,e,n){var r=Or(t)?arrayEvery:baseEvery;return n&&isIterateeCall(t,e,n)&&(e=i),r(t,getIteratee(e,3))}function filter(t,e){var n=Or(t)?arrayFilter:baseFilter;return n(t,getIteratee(e,3))}function flatMap(t,e){return baseFlatten(map(t,e),1)}function flatMapDeep(t,e){return baseFlatten(map(t,e),w)}function flatMapDepth(t,e,n){return n=n===i?1:toInteger(n),baseFlatten(map(t,e),n)}function forEach(t,e){var n=Or(t)?arrayEach:In;return n(t,getIteratee(e,3))}function forEachRight(t,e){var n=Or(t)?arrayEachRight:On;return n(t,getIteratee(e,3))}function includes(t,e,n,r){t=isArrayLike(t)?t:values(t),n=n&&!r?toInteger(n):0;var a=t.length;return n<0&&(n=Pe(a+n,0)),isString(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&baseIndexOf(t,e,n)>-1}function map(t,e){var n=Or(t)?arrayMap:baseMap;return n(t,getIteratee(e,3))}function orderBy(t,e,n,r){return null==t?[]:(Or(e)||(e=null==e?[]:[e]),n=r?i:n,Or(n)||(n=null==n?[]:[n]),baseOrderBy(t,e,n))}function reduce(t,e,n){var r=Or(t)?arrayReduce:baseReduce,a=arguments.length<3;return r(t,getIteratee(e,4),n,a,In)}function reduceRight(t,e,n){var r=Or(t)?arrayReduceRight:baseReduce,a=arguments.length<3;return r(t,getIteratee(e,4),n,a,On)}function reject(t,e){var n=Or(t)?arrayFilter:baseFilter;return n(t,negate(getIteratee(e,3)))}function sample(t){var e=Or(t)?arraySample:baseSample;return e(t)}function sampleSize(t,e,n){e=(n?isIterateeCall(t,e,n):e===i)?1:toInteger(e);var r=Or(t)?arraySampleSize:baseSampleSize;return r(t,e)}function shuffle(t){var e=Or(t)?arrayShuffle:baseShuffle;return e(t)}function size(t){if(null==t)return 0;if(isArrayLike(t))return isString(t)?stringSize(t):t.length;var e=Nn(t);return e==V||e==J?t.size:baseKeys(t).length}function some(t,e,n){var r=Or(t)?arraySome:baseSome;return n&&isIterateeCall(t,e,n)&&(e=i),r(t,getIteratee(e,3))}function after(t,e){if("function"!=typeof e)throw new Zt(c);return t=toInteger(t),function(){if(--t<1)return e.apply(this,arguments)}}function ary(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,createWrap(t,_,i,i,i,i,e)}function before(t,e){var n;if("function"!=typeof e)throw new Zt(c);return t=toInteger(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}function curry(t,e,n){e=n?i:e;var r=createWrap(t,m,i,i,i,i,i,e);return r.placeholder=curry.placeholder,r}function curryRight(t,e,n){e=n?i:e;var r=createWrap(t,y,i,i,i,i,i,e);return r.placeholder=curryRight.placeholder,r}function debounce(t,e,n){function invokeFunc(e){var n=r,o=a;return r=a=i,h=e,s=t.apply(o,n)}function leadingEdge(t){return h=t,l=Hn(timerExpired,e),p?invokeFunc(t):s}function remainingWait(t){var n=t-u,r=t-h,a=e-n;return d?Ne(a,o-r):a}function shouldInvoke(t){var n=t-u,r=t-h;return u===i||n>=e||n<0||d&&r>=o}function timerExpired(){var t=pr();return shouldInvoke(t)?trailingEdge(t):void(l=Hn(timerExpired,remainingWait(t)))}function trailingEdge(t){return l=i,f&&r?invokeFunc(t):(r=a=i,s)}function cancel(){l!==i&&kn(l),h=0,r=u=a=l=i}function flush(){return l===i?s:trailingEdge(pr())}function debounced(){var t=pr(),n=shouldInvoke(t);if(r=arguments,a=this,u=t,n){if(l===i)return leadingEdge(u);if(d)return l=Hn(timerExpired,e),invokeFunc(u)}return l===i&&(l=Hn(timerExpired,e)),s}var r,a,o,s,l,u,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new Zt(c);return e=toNumber(e)||0,isObject(n)&&(p=!!n.leading,d="maxWait"in n,o=d?Pe(toNumber(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(t){return createWrap(t,I)}function memoize(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Zt(c);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(memoize.Cache||MapCache),n}function negate(t){if("function"!=typeof t)throw new Zt(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function once(t){return before(2,t)}function rest(t,e){if("function"!=typeof t)throw new Zt(c);return e=e===i?e:toInteger(e),baseRest(t,e)}function spread(t,e){if("function"!=typeof t)throw new Zt(c);return e=e===i?0:Pe(toInteger(e),0),baseRest(function(n){var r=n[e],a=castSlice(n,0,e);return r&&arrayPush(a,r),apply(t,this,a)})}function throttle(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new Zt(c);return isObject(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),debounce(t,e,{leading:r,maxWait:e,trailing:a})}function unary(t){return ary(t,1)}function wrap(t,e){return e=null==e?identity:e,br(e,t)}function castArray(){if(!arguments.length)return[];var t=arguments[0];return Or(t)?t:[t]}function clone(t){return baseClone(t,!1,!0)}function cloneWith(t,e){return baseClone(t,!1,!0,e)}function cloneDeep(t){return baseClone(t,!0,!0)}function cloneDeepWith(t,e){return baseClone(t,!0,!0,e)}function conformsTo(t,e){return null==e||baseConformsTo(t,e,keys(e))}function eq(t,e){return t===e||t!==t&&e!==e}function isArguments(t){return isArrayLikeObject(t)&&ae.call(t,"callee")&&(!be.call(t,"callee")||se.call(t)==j)}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isBoolean(t){return t===!0||t===!1||isObjectLike(t)&&se.call(t)==G}function isElement(t){return null!=t&&1===t.nodeType&&isObjectLike(t)&&!isPlainObject(t)}function isEmpty(t){if(isArrayLike(t)&&(Or(t)||"string"==typeof t||"function"==typeof t.splice||Ar(t)||isArguments(t)))return!t.length;var e=Nn(t);if(e==V||e==J)return!t.size;if(isPrototype(t))return!xe(t).length;for(var n in t)if(ae.call(t,n))return!1;return!0}function isEqual(t,e){return baseIsEqual(t,e)}function isEqualWith(t,e,n){n="function"==typeof n?n:i;var r=n?n(t,e):i;return r===i?baseIsEqual(t,e,n):!!r}function isError(t){return!!isObjectLike(t)&&(se.call(t)==B||"string"==typeof t.message&&"string"==typeof t.name)}function isFinite(t){return"number"==typeof t&&Se(t)}function isFunction(t){var e=isObject(t)?se.call(t):"";return e==q||e==Y}function isInteger(t){return"number"==typeof t&&t==toInteger(t)}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function isObjectLike(t){return null!=t&&"object"==typeof t}function isMatch(t,e){return t===e||baseIsMatch(t,e,getMatchData(e))}function isMatchWith(t,e,n){return n="function"==typeof n?n:i,baseIsMatch(t,e,getMatchData(e),n)}function isNaN(t){return isNumber(t)&&t!=+t}function isNative(t){if(Mn(t))throw new r(l);return baseIsNative(t)}function isNull(t){return null===t}function isNil(t){return null==t}function isNumber(t){return"number"==typeof t||isObjectLike(t)&&se.call(t)==K}function isPlainObject(t){if(!isObjectLike(t)||se.call(t)!=X)return!1;var e=ge(t);if(null===e)return!0;var n=ae.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&re.call(n)==oe}function isSafeInteger(t){return isInteger(t)&&t>=-P&&t<=P}function isString(t){return"string"==typeof t||!Or(t)&&isObjectLike(t)&&se.call(t)==Q}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&se.call(t)==tt}function isUndefined(t){return t===i}function isWeakMap(t){return isObjectLike(t)&&Nn(t)==et}function isWeakSet(t){
return isObjectLike(t)&&se.call(t)==nt}function toArray(t){if(!t)return[];if(isArrayLike(t))return isString(t)?stringToArray(t):copyArray(t);if(me&&t[me])return iteratorToArray(t[me]());var e=Nn(t),n=e==V?mapToArray:e==J?setToArray:values;return n(t)}function toFinite(t){if(!t)return 0===t?t:0;if(t=toNumber(t),t===w||t===-w){var e=t<0?-1:1;return e*N}return t===t?t:0}function toInteger(t){var e=toFinite(t),n=e%1;return e===e?n?e-n:e:0}function toLength(t){return t?baseClamp(toInteger(t),0,D):0}function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return M;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(xt,"");var n=zt.test(t);return n||Wt.test(t)?Ye(t.slice(2),n?2:8):jt.test(t)?M:+t}function toPlainObject(t){return copyObject(t,keysIn(t))}function toSafeInteger(t){return baseClamp(toInteger(t),-P,P)}function toString(t){return null==t?"":baseToString(t)}function create(t,e){var n=Cn(t);return e?baseAssign(n,e):n}function findKey(t,e){return baseFindKey(t,getIteratee(e,3),baseForOwn)}function findLastKey(t,e){return baseFindKey(t,getIteratee(e,3),baseForOwnRight)}function forIn(t,e){return null==t?t:Tn(t,getIteratee(e,3),keysIn)}function forInRight(t,e){return null==t?t:An(t,getIteratee(e,3),keysIn)}function forOwn(t,e){return t&&baseForOwn(t,getIteratee(e,3))}function forOwnRight(t,e){return t&&baseForOwnRight(t,getIteratee(e,3))}function functions(t){return null==t?[]:baseFunctions(t,keys(t))}function functionsIn(t){return null==t?[]:baseFunctions(t,keysIn(t))}function get(t,e,n){var r=null==t?i:baseGet(t,e);return r===i?n:r}function has(t,e){return null!=t&&hasPath(t,e,baseHas)}function hasIn(t,e){return null!=t&&hasPath(t,e,baseHasIn)}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}function mapKeys(t,e){var n={};return e=getIteratee(e,3),baseForOwn(t,function(t,r,a){baseAssignValue(n,e(t,r,a),t)}),n}function mapValues(t,e){var n={};return e=getIteratee(e,3),baseForOwn(t,function(t,r,a){baseAssignValue(n,r,e(t,r,a))}),n}function omitBy(t,e){return pickBy(t,negate(getIteratee(e)))}function pickBy(t,e){return null==t?{}:basePickBy(t,getAllKeysIn(t),getIteratee(e))}function result(t,e,n){e=isKey(e,t)?[e]:castPath(e);var r=-1,a=e.length;for(a||(t=i,a=1);++r<a;){var o=null==t?i:t[toKey(e[r])];o===i&&(r=a,o=n),t=isFunction(o)?o.call(t):o}return t}function set(t,e,n){return null==t?t:baseSet(t,e,n)}function setWith(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:baseSet(t,e,n,r)}function transform(t,e,n){var r=Or(t)||xr(t);if(e=getIteratee(e,4),null==n)if(r||isObject(t)){var a=t.constructor;n=r?Or(t)?new a:[]:isFunction(a)?Cn(ge(t)):{}}else n={};return(r?arrayEach:baseForOwn)(t,function(t,r,a){return e(n,t,r,a)}),n}function unset(t,e){return null==t||baseUnset(t,e)}function update(t,e,n){return null==t?t:baseUpdate(t,e,castFunction(n))}function updateWith(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:baseUpdate(t,e,castFunction(n),r)}function values(t){return t?baseValues(t,keys(t)):[]}function valuesIn(t){return null==t?[]:baseValues(t,keysIn(t))}function clamp(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=toNumber(n),n=n===n?n:0),e!==i&&(e=toNumber(e),e=e===e?e:0),baseClamp(toNumber(t),e,n)}function inRange(t,e,n){return e=toFinite(e),n===i?(n=e,e=0):n=toFinite(n),t=toNumber(t),baseInRange(t,e,n)}function random(t,e,n){if(n&&"boolean"!=typeof n&&isIterateeCall(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=toFinite(t),e===i?(e=t,t=0):e=toFinite(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var a=ze();return Ne(t+a*(e-t+qe("1e-"+((a+"").length-1))),e)}return baseRandom(t,e)}function capitalize(t){return na(toString(t).toLowerCase())}function deburr(t){return t=toString(t),t&&t.replace(qt,cn).replace(we,"")}function endsWith(t,e,n){t=toString(t),e=baseToString(e);var r=t.length;n=n===i?r:baseClamp(toInteger(n),0,r);var a=n;return n-=e.length,n>=0&&t.slice(n,a)==e}function escape(t){return t=toString(t),t&&_t.test(t)?t.replace(bt,un):t}function escapeRegExp(t){return t=toString(t),t&&kt.test(t)?t.replace(St,"\\$&"):t}function pad(t,e,n){t=toString(t),e=toInteger(e);var r=e?stringSize(t):0;if(!e||r>=e)return t;var a=(e-r)/2;return createPadding(Ae(a),n)+t+createPadding(Te(a),n)}function padEnd(t,e,n){t=toString(t),e=toInteger(e);var r=e?stringSize(t):0;return e&&r<e?t+createPadding(e-r,n):t}function padStart(t,e,n){t=toString(t),e=toInteger(e);var r=e?stringSize(t):0;return e&&r<e?createPadding(e-r,n)+t:t}function parseInt(t,e,n){return n||null==e?e=0:e&&(e=+e),De(toString(t).replace(Rt,""),e||0)}function repeat(t,e,n){return e=(n?isIterateeCall(t,e,n):e===i)?1:toInteger(e),baseRepeat(toString(t),e)}function replace(){var t=arguments,e=toString(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function split(t,e,n){return n&&"number"!=typeof n&&isIterateeCall(t,e,n)&&(e=n=i),(n=n===i?D:n>>>0)?(t=toString(t),t&&("string"==typeof e||null!=e&&!Sr(e))&&(e=baseToString(e),!e&&hasUnicode(t))?castSlice(stringToArray(t),0,n):t.split(e,n)):[]}function startsWith(t,e,n){return t=toString(t),n=baseClamp(toInteger(n),0,t.length),e=baseToString(e),t.slice(n,n+e.length)==e}function template(t,e,n){var r=lodash.templateSettings;n&&isIterateeCall(t,e,n)&&(e=i),t=toString(t),e=Mr({},e,r,assignInDefaults);var o,s,l=Mr({},e.imports,r.imports,assignInDefaults),c=keys(l),u=baseValues(l,c),h=0,p=e.interpolate||Yt,d="__p += '",f=Xt((e.escape||Yt).source+"|"+p.source+"|"+(p===Ot?Ut:Yt).source+"|"+(e.evaluate||Yt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ue+"]")+"\n";t.replace(f,function(e,n,r,a,i,l){return r||(r=a),d+=t.slice(h,l).replace(Vt,escapeStringChar),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),i&&(s=!0,d+="';\n"+i+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),d+="';\n";var m=e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(ft,""):d).replace(gt,"$1").replace(mt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=ra(function(){return a(c,g+"return "+d).apply(i,u)});if(y.source=d,isError(y))throw y;return y}function toLower(t){return toString(t).toLowerCase()}function toUpper(t){return toString(t).toUpperCase()}function trim(t,e,n){if(t=toString(t),t&&(n||e===i))return t.replace(xt,"");if(!t||!(e=baseToString(e)))return t;var r=stringToArray(t),a=stringToArray(e),o=charsStartIndex(r,a),s=charsEndIndex(r,a)+1;return castSlice(r,o,s).join("")}function trimEnd(t,e,n){if(t=toString(t),t&&(n||e===i))return t.replace(wt,"");if(!t||!(e=baseToString(e)))return t;var r=stringToArray(t),a=charsEndIndex(r,stringToArray(e))+1;return castSlice(r,0,a).join("")}function trimStart(t,e,n){if(t=toString(t),t&&(n||e===i))return t.replace(Rt,"");if(!t||!(e=baseToString(e)))return t;var r=stringToArray(t),a=charsStartIndex(r,stringToArray(e));return castSlice(r,a).join("")}function truncate(t,e){var n=A,r=L;if(isObject(e)){var a="separator"in e?e.separator:a;n="length"in e?toInteger(e.length):n,r="omission"in e?baseToString(e.omission):r}t=toString(t);var o=t.length;if(hasUnicode(t)){var s=stringToArray(t);o=s.length}if(n>=o)return t;var l=n-stringSize(r);if(l<1)return r;var c=s?castSlice(s,0,l).join(""):t.slice(0,l);if(a===i)return c+r;if(s&&(l+=c.length-l),Sr(a)){if(t.slice(l).search(a)){var u,h=c;for(a.global||(a=Xt(a.source,toString(Ft.exec(a))+"g")),a.lastIndex=0;u=a.exec(h);)var p=u.index;c=c.slice(0,p===i?l:p)}}else if(t.indexOf(baseToString(a),l)!=l){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r}function unescape(t){return t=toString(t),t&&vt.test(t)?t.replace(yt,hn):t}function words(t,e,n){return t=toString(t),e=n?i:e,e===i?hasUnicodeWord(t)?unicodeWords(t):asciiWords(t):t.match(e)||[]}function cond(t){var e=t?t.length:0,n=getIteratee();return t=e?arrayMap(t,function(t){if("function"!=typeof t[1])throw new Zt(c);return[n(t[0]),t[1]]}):[],baseRest(function(n){for(var r=-1;++r<e;){var a=t[r];if(apply(a[0],this,n))return apply(a[1],this,n)}})}function conforms(t){return baseConforms(baseClone(t,!0))}function constant(t){return function(){return t}}function defaultTo(t,e){return null==t||t!==t?e:t}function identity(t){return t}function iteratee(t){return baseIteratee("function"==typeof t?t:baseClone(t,!0))}function matches(t){return baseMatches(baseClone(t,!0))}function matchesProperty(t,e){return baseMatchesProperty(t,baseClone(e,!0))}function mixin(t,e,n){var r=keys(e),a=baseFunctions(e,r);null!=n||isObject(e)&&(a.length||!r.length)||(n=e,e=t,t=this,a=baseFunctions(e,keys(e)));var i=!(isObject(n)&&"chain"in n&&!n.chain),o=isFunction(t);return arrayEach(a,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),a=n.__actions__=copyArray(this.__actions__);return a.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,arrayPush([this.value()],arguments))})}),t}function noConflict(){return Xe._===this&&(Xe._=le),this}function noop(){}function nthArg(t){return t=toInteger(t),baseRest(function(e){return baseNth(e,t)})}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}function propertyOf(t){return function(e){return null==t?i:baseGet(t,e)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(t,e){if(t=toInteger(t),t<1||t>P)return[];var n=D,r=Ne(t,D);e=getIteratee(e),t-=D;for(var a=baseTimes(r,e);++n<t;)e(n);return a}function toPath(t){return Or(t)?arrayMap(t,toKey):isSymbol(t)?[t]:copyArray(Fn(t))}function uniqueId(t){var e=++ie;return toString(t)+e}function max(t){return t&&t.length?baseExtremum(t,identity,baseGt):i}function maxBy(t,e){return t&&t.length?baseExtremum(t,getIteratee(e,2),baseGt):i}function mean(t){return baseMean(t,identity)}function meanBy(t,e){return baseMean(t,getIteratee(e,2))}function min(t){return t&&t.length?baseExtremum(t,identity,baseLt):i}function minBy(t,e){return t&&t.length?baseExtremum(t,getIteratee(e,2),baseLt):i}function sum(t){return t&&t.length?baseSum(t,identity):0}function sumBy(t,e){return t&&t.length?baseSum(t,getIteratee(e,2)):0}t=t?dn.defaults(Xe.Object(),t,dn.pick(Xe,He)):Xe;var e=t.Array,n=t.Date,r=t.Error,a=t.Function,Dt=t.Math,Kt=t.Object,Xt=t.RegExp,$t=t.String,Zt=t.TypeError,Jt=e.prototype,Qt=a.prototype,te=Kt.prototype,ee=t["__core-js_shared__"],ne=function(){var t=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),re=Qt.toString,ae=te.hasOwnProperty,ie=0,oe=re.call(Kt),se=te.toString,le=Xe._,ce=Xt("^"+re.call(ae).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=Je?t.Buffer:i,he=t.Symbol,pe=t.Uint8Array,de=ue?ue.allocUnsafe:i,fe=Kt.defineProperty,ge=overArg(Kt.getPrototypeOf,Kt),me=he?he.iterator:i,ye=Kt.create,be=te.propertyIsEnumerable,ve=Jt.splice,_e=he?he.isConcatSpreadable:i,Ce=t.clearTimeout!==Xe.clearTimeout&&t.clearTimeout,Ie=n&&n.now!==Xe.Date.now&&n.now,Oe=t.setTimeout!==Xe.setTimeout&&t.setTimeout,Te=Dt.ceil,Ae=Dt.floor,Le=Kt.getOwnPropertySymbols,Ee=ue?ue.isBuffer:i,Se=t.isFinite,ke=Jt.join,xe=overArg(Kt.keys,Kt),Pe=Dt.max,Ne=Dt.min,Me=n.now,De=t.parseInt,ze=Dt.random,Ge=Jt.reverse,We=getNative(t,"DataView"),Be=getNative(t,"Map"),Ve=getNative(t,"Promise"),Ke=getNative(t,"Set"),$e=getNative(t,"WeakMap"),Ze=getNative(Kt,"create"),Qe=getNative(Kt,"defineProperty"),tn=$e&&new $e,ln={},pn=toSource(We),fn=toSource(Be),gn=toSource(Ve),mn=toSource(Ke),yn=toSource($e),bn=he?he.prototype:i,vn=bn?bn.valueOf:i,_n=bn?bn.toString:i,Cn=function(){function object(){}return function(t){if(!isObject(t))return{};if(ye)return ye(t);object.prototype=prototype;var e=new object;return object.prototype=i,e}}();lodash.templateSettings={escape:Ct,evaluate:It,interpolate:Ot,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=Cn(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=Cn(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var In=createBaseEach(baseForOwn),On=createBaseEach(baseForOwnRight,!0),Tn=createBaseFor(),An=createBaseFor(!0),Ln=tn?function(t,e){return tn.set(t,e),t}:identity,En=Qe?function(t,e){return Qe(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity,Sn=baseRest,kn=Ce||function(t){return Xe.clearTimeout(t)},xn=Ke&&1/setToArray(new Ke([,-0]))[1]==w?function(t){return new Ke(t)}:noop,Rn=tn?function(t){return tn.get(t)}:noop,wn=Le?overArg(Le,Kt):stubArray,Pn=Le?function(t){for(var e=[];t;)arrayPush(e,wn(t)),t=ge(t);return e}:stubArray,Nn=baseGetTag;(We&&Nn(new We(new ArrayBuffer(1)))!=at||Be&&Nn(new Be)!=V||Ve&&Nn(Ve.resolve())!=$||Ke&&Nn(new Ke)!=J||$e&&Nn(new $e)!=et)&&(Nn=function(t){var e=se.call(t),n=e==X?t.constructor:i,r=n?toSource(n):i;if(r)switch(r){case pn:return at;case fn:return V;case gn:return $;case mn:return J;case yn:return et}return e});var Mn=ee?isFunction:stubFalse,Dn=shortOut(Ln),Hn=Oe||function(t,e){return Xe.setTimeout(t,e)},Un=shortOut(En),Fn=memoizeCapped(function(t){t=toString(t);var e=[];return Lt.test(t)&&e.push(""),t.replace(Et,function(t,n,r,a){e.push(r?a.replace(Ht,"$1"):n||t)}),e}),jn=baseRest(function(t,e){return isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0)):[]}),zn=baseRest(function(t,e){var n=last(e);return isArrayLikeObject(n)&&(n=i),isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(n,2)):[]}),Gn=baseRest(function(t,e){var n=last(e);return isArrayLikeObject(n)&&(n=i),isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0),i,n):[]}),Wn=baseRest(function(t){var e=arrayMap(t,castArrayLikeObject);return e.length&&e[0]===t[0]?baseIntersection(e):[]}),Bn=baseRest(function(t){var e=last(t),n=arrayMap(t,castArrayLikeObject);return e===last(n)?e=i:n.pop(),n.length&&n[0]===t[0]?baseIntersection(n,getIteratee(e,2)):[]}),qn=baseRest(function(t){var e=last(t),n=arrayMap(t,castArrayLikeObject);return e===last(n)?e=i:n.pop(),n.length&&n[0]===t[0]?baseIntersection(n,i,e):[]}),Yn=baseRest(pullAll),Vn=flatRest(function(t,e){var n=t?t.length:0,r=baseAt(t,e);return basePullAt(t,arrayMap(e,function(t){return isIndex(t,n)?+t:t}).sort(compareAscending)),r}),Kn=baseRest(function(t){return baseUniq(baseFlatten(t,1,isArrayLikeObject,!0))}),Xn=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=i),baseUniq(baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(e,2))}),$n=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=i),baseUniq(baseFlatten(t,1,isArrayLikeObject,!0),i,e)}),Zn=baseRest(function(t,e){return isArrayLikeObject(t)?baseDifference(t,e):[]}),Jn=baseRest(function(t){return baseXor(arrayFilter(t,isArrayLikeObject))}),Qn=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=i),baseXor(arrayFilter(t,isArrayLikeObject),getIteratee(e,2))}),tr=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=i),baseXor(arrayFilter(t,isArrayLikeObject),i,e)}),er=baseRest(unzip),nr=baseRest(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,unzipWith(t,n)}),rr=flatRest(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return baseAt(e,t)};return!(e>1||this.__actions__.length)&&r instanceof LazyWrapper&&isIndex(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:thru,args:[a],thisArg:i}),new LodashWrapper(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(a)}),ar=createAggregator(function(t,e,n){ae.call(t,n)?++t[n]:baseAssignValue(t,n,1)}),ir=createFind(findIndex),or=createFind(findLastIndex),sr=createAggregator(function(t,e,n){ae.call(t,n)?t[n].push(e):baseAssignValue(t,n,[e])}),lr=baseRest(function(t,n,r){var a=-1,o="function"==typeof n,s=isKey(n),l=isArrayLike(t)?e(t.length):[];return In(t,function(t){var e=o?n:s&&null!=t?t[n]:i;l[++a]=e?apply(e,t,r):baseInvoke(t,n,r)}),l}),cr=createAggregator(function(t,e,n){baseAssignValue(t,n,e)}),ur=createAggregator(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),hr=baseRest(function(t,e){if(null==t)return[];var n=e.length;return n>1&&isIterateeCall(t,e[0],e[1])?e=[]:n>2&&isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(t,baseFlatten(e,1),[])}),pr=Ie||function(){return Xe.Date.now()},dr=baseRest(function(t,e,n){var r=d;if(n.length){var a=replaceHolders(n,getHolder(dr));r|=b}return createWrap(t,r,e,n,a)}),fr=baseRest(function(t,e,n){var r=d|f;if(n.length){var a=replaceHolders(n,getHolder(fr));r|=b}return createWrap(e,r,t,n,a)}),gr=baseRest(function(t,e){return baseDelay(t,1,e)}),mr=baseRest(function(t,e,n){return baseDelay(t,toNumber(e)||0,n)});memoize.Cache=MapCache;var yr=Sn(function(t,e){e=1==e.length&&Or(e[0])?arrayMap(e[0],baseUnary(getIteratee())):arrayMap(baseFlatten(e,1),baseUnary(getIteratee()));var n=e.length;return baseRest(function(r){for(var a=-1,i=Ne(r.length,n);++a<i;)r[a]=e[a].call(this,r[a]);return apply(t,this,r)})}),br=baseRest(function(t,e){var n=replaceHolders(e,getHolder(br));return createWrap(t,b,i,e,n)}),vr=baseRest(function(t,e){var n=replaceHolders(e,getHolder(vr));return createWrap(t,v,i,e,n)}),_r=flatRest(function(t,e){return createWrap(t,C,i,i,i,e)}),Cr=createRelationalOperation(baseGt),Ir=createRelationalOperation(function(t,e){return t>=e}),Or=e.isArray,Tr=en?baseUnary(en):baseIsArrayBuffer,Ar=Ee||stubFalse,Lr=nn?baseUnary(nn):baseIsDate,Er=rn?baseUnary(rn):baseIsMap,Sr=an?baseUnary(an):baseIsRegExp,kr=on?baseUnary(on):baseIsSet,xr=sn?baseUnary(sn):baseIsTypedArray,Rr=createRelationalOperation(baseLt),wr=createRelationalOperation(function(t,e){return t<=e}),Pr=createAssigner(function(t,e){if(isPrototype(e)||isArrayLike(e))return void copyObject(e,keys(e),t);for(var n in e)ae.call(e,n)&&assignValue(t,n,e[n])}),Nr=createAssigner(function(t,e){copyObject(e,keysIn(e),t)}),Mr=createAssigner(function(t,e,n,r){copyObject(e,keysIn(e),t,r)}),Dr=createAssigner(function(t,e,n,r){copyObject(e,keys(e),t,r)}),Hr=flatRest(baseAt),Ur=baseRest(function(t){return t.push(i,assignInDefaults),apply(Mr,i,t)}),Fr=baseRest(function(t){return t.push(i,mergeDefaults),apply(Br,i,t)}),jr=createInverter(function(t,e,n){t[e]=n},constant(identity)),zr=createInverter(function(t,e,n){ae.call(t,e)?t[e].push(n):t[e]=[n]},getIteratee),Gr=baseRest(baseInvoke),Wr=createAssigner(function(t,e,n){baseMerge(t,e,n)}),Br=createAssigner(function(t,e,n,r){baseMerge(t,e,n,r)}),qr=flatRest(function(t,e){return null==t?{}:(e=arrayMap(e,toKey),basePick(t,baseDifference(getAllKeysIn(t),e)))}),Yr=flatRest(function(t,e){return null==t?{}:basePick(t,arrayMap(e,toKey))}),Vr=createToPairs(keys),Kr=createToPairs(keysIn),Xr=createCompounder(function(t,e,n){return e=e.toLowerCase(),t+(n?capitalize(e):e)}),$r=createCompounder(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Zr=createCompounder(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Jr=createCaseFirst("toLowerCase"),Qr=createCompounder(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ta=createCompounder(function(t,e,n){return t+(n?" ":"")+na(e)}),ea=createCompounder(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),na=createCaseFirst("toUpperCase"),ra=baseRest(function(t,e){try{return apply(t,i,e)}catch(n){return isError(n)?n:new r(n)}}),aa=flatRest(function(t,e){return arrayEach(e,function(e){e=toKey(e),baseAssignValue(t,e,dr(t[e],t))}),t}),ia=createFlow(),oa=createFlow(!0),sa=baseRest(function(t,e){return function(n){return baseInvoke(n,t,e)}}),la=baseRest(function(t,e){return function(n){return baseInvoke(t,n,e)}}),ca=createOver(arrayMap),ua=createOver(arrayEvery),ha=createOver(arraySome),pa=createRange(),da=createRange(!0),fa=createMathOperation(function(t,e){return t+e},0),ga=createRound("ceil"),ma=createMathOperation(function(t,e){return t/e},1),ya=createRound("floor"),ba=createMathOperation(function(t,e){return t*e},1),va=createRound("round"),_a=createMathOperation(function(t,e){return t-e},0);return lodash.after=after,lodash.ary=ary,lodash.assign=Pr,lodash.assignIn=Nr,lodash.assignInWith=Mr,lodash.assignWith=Dr,lodash.at=Hr,lodash.before=before,lodash.bind=dr,lodash.bindAll=aa,lodash.bindKey=fr,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=ar,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=Ur,lodash.defaultsDeep=Fr,lodash.defer=gr,lodash.delay=mr,lodash.difference=jn,lodash.differenceBy=zn,lodash.differenceWith=Gn,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=ia,lodash.flowRight=oa,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=sr,lodash.initial=initial,lodash.intersection=Wn,lodash.intersectionBy=Bn,lodash.intersectionWith=qn,lodash.invert=jr,lodash.invertBy=zr,lodash.invokeMap=lr,lodash.iteratee=iteratee,lodash.keyBy=cr,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=Wr,lodash.mergeWith=Br,lodash.method=sa,lodash.methodOf=la,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=qr,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=ca,lodash.overArgs=yr,lodash.overEvery=ua,lodash.overSome=ha,lodash.partial=br,lodash.partialRight=vr,lodash.partition=ur,lodash.pick=Yr,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=Yn,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=Vn,lodash.range=pa,lodash.rangeRight=da,lodash.rearg=_r,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=hr,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=Vr,lodash.toPairsIn=Kr,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=Kn,lodash.unionBy=Xn,lodash.unionWith=$n,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=Zn,lodash.words=words,lodash.wrap=wrap,lodash.xor=Jn,lodash.xorBy=Qn,lodash.xorWith=tr,lodash.zip=er,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=nr,lodash.entries=Vr,lodash.entriesIn=Kr,lodash.extend=Nr,lodash.extendWith=Mr,mixin(lodash,lodash),lodash.add=fa,lodash.attempt=ra,lodash.camelCase=Xr,lodash.capitalize=capitalize,lodash.ceil=ga,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=ma,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=ir,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=or,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=ya,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=Cr,lodash.gte=Ir,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=Gr,lodash.isArguments=isArguments,lodash.isArray=Or,lodash.isArrayBuffer=Tr,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=Ar,lodash.isDate=Lr,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=Er,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=Sr,lodash.isSafeInteger=isSafeInteger,lodash.isSet=kr,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=xr,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=$r,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=Zr,lodash.lowerFirst=Jr,lodash.lt=Rr,lodash.lte=wr,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=ba,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=pr,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=va,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=Qr,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=ta,lodash.startsWith=startsWith,lodash.subtract=_a,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=ea,lodash.upperFirst=na,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var t={};return baseForOwn(lodash,function(e,n){ae.call(lodash.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),lodash.VERSION=o,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){lodash[t].placeholder=lodash}),arrayEach(["drop","take"],function(t,e){LazyWrapper.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new LazyWrapper(this);n=n===i?1:Pe(toInteger(n),0);var a=this.clone();return r?a.__takeCount__=Ne(n,a.__takeCount__):a.__views__.push({size:Ne(n,D),type:t+(a.__dir__<0?"Right":"")}),a},LazyWrapper.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),arrayEach(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==k||n==R;LazyWrapper.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:getIteratee(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),arrayEach(["head","last"],function(t,e){var n="take"+(e?"Right":"");LazyWrapper.prototype[t]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");LazyWrapper.prototype[t]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(t){return this.filter(t).head()},LazyWrapper.prototype.findLast=function(t){return this.reverse().find(t)},LazyWrapper.prototype.invokeMap=baseRest(function(t,e){return"function"==typeof t?new LazyWrapper(this):this.map(function(n){return baseInvoke(n,t,e)})}),LazyWrapper.prototype.reject=function(t){return this.filter(negate(getIteratee(t)))},LazyWrapper.prototype.slice=function(t,e){t=toInteger(t);var n=this;return n.__filtered__&&(t>0||e<0)?new LazyWrapper(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(e=toInteger(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},LazyWrapper.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(D)},baseForOwn(LazyWrapper.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=lodash[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);a&&(lodash.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,l=e instanceof LazyWrapper,c=s[0],u=l||Or(e),h=function(t){var e=a.apply(lodash,arrayPush([t],s));return r&&p?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,d=!!this.__actions__.length,f=o&&!p,g=l&&!d;if(!o&&u){e=g?e:new LazyWrapper(this);var m=t.apply(e,s);return m.__actions__.push({func:thru,args:[h],thisArg:i}),new LodashWrapper(m,p)}return f&&g?t.apply(this,s):(m=this.thru(h),f?r?m.value()[0]:m.value():m)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(t){var e=Jt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);lodash.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var a=this.value();return e.apply(Or(a)?a:[],t)}return this[n](function(n){return e.apply(Or(n)?n:[],t)})}}),baseForOwn(LazyWrapper.prototype,function(t,e){var n=lodash[e];if(n){var r=n.name+"",a=ln[r]||(ln[r]=[]);a.push({name:e,func:n})}}),ln[createHybrid(i,f).name]=[{name:"wrapper",func:i}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=rr,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,me&&(lodash.prototype[me]=wrapperToIterator),lodash},dn=pn();Xe._=dn,r=function(){return dn}.call(e,n,e,a),!(r!==i&&(a.exports=r))}).call(this)}).call(e,function(){return this}(),n(7)(t))},function(t,e){"use strict";function printDataTable(t,e){var n=window.open("","","width=300,height=500,resizeable,scrollbars");
n.document.write("<h3>Motion data generated for challenge "+e+"</h3>"),n.document.write('\n\t<table border="1">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>#</th>\n\t\t\t\t<th>T</th>\n\t\t\t\t<th>S</th>\n\t\t\t\t<th>V</th>\n\t\t\t\t<th>A</th>\n\t\t\t</tr>\n\t\t</thead>\n\t<tbody>\n\t');for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];r++,n.document.write("\n\t\t\t<tr>\n\t\t\t\t<td>"+r+"</td>\n\t\t\t\t<td>"+o.t.toFixed(2)+"</td>\n\t\t\t\t<td>"+o.s.toFixed(2)+"</td>\n\t\t\t\t<td>"+o.v.toFixed(2)+"</td>\n\t\t\t\t<td>"+o.a.toFixed(2)+"</td>\n\t\t\t</tr>\n\t\t")}n.document.write("</tbody></table>"),n.document.close()}e.printDataTable=printDataTable},function(t,e,n){"use strict";var r=n(64),a=function(){function Motion(t,e,n,a){this.mode=a||r.MODE_NORMAL,this.initialPosition=t,this.initialVelocity=e;var i=this.mode.domain.position.max,o=this.mode.postsCount,s=i/(o-1);this.ramps=[];for(var l=1;l<o;l++){var c=n[l-1]-n[l],u=100*c,h=r.GRAVITY_ACCELERATION*(u/s);h/=100,this.ramps.push({number:l,left:s*(l-1),right:s*l,slope:c,acceleration:h})}var p=this.getRampAt(t,e),d=(t-p.left)/s,f=n[p.number-1]-d*p.slope,g=0;this.junctions=[];for(var m=0,y=n;m<y.length;m++){var b=y[m],v=f-b,_=Math.pow(e,2)+2*r.GRAVITY_ACCELERATION*v,C=0;_<0?C=null:_>0&&(C=Math.sqrt(_)),this.junctions.push({height:b,speed:C,position:s*g++})}}return Object.defineProperty(Motion.prototype,"data",{get:function(){return void 0===this._data&&this.execute(),this._data.slice()},enumerable:!0,configurable:!0}),Motion.fromSetup=function(t,e){return new this(t.position,t.velocity,t.posts,e)},Motion.prototype.execute=function(){var t=this.initialPosition,e=this.initialVelocity,n=this.getRampAt(t,e),r=n.acceleration;this.commitData(0,t,e,r);for(var a=1/this.mode.simulation.precision,i=this.mode.simulation.duration,o=this.mode.domain.position,s=a;s<=i;s+=a){var l=t+e*a+Math.pow(a,2)*r/2,c=e+r*a,u=this.getRampAt(l,c),h=l<o.min||o.max<l;if(s===a&&h)break;if(n!==u||h){var p=l>t,d=Math.min(n.number,u.number);h&&!p&&d--;var f=this.junctions[d];null===f.speed&&console.warn("The ball reached a junction that is too high for the amount of energy in the system. Something is wrong!");var g=Math.abs(f.position-t);if(g>0){var m=(f.speed+Math.abs(e))/2,y=g/m;y>=a&&console.warn("Junction crossing has partial time bigger than full time. Something is wrong!");var b=s-a+y,v=f.speed*(p?1:-1);if(this.commitData(b,f.position,v,r),h)break;n=u,r=n.acceleration;var _=a-y;t=f.position+v*_+Math.pow(_,2)*r/2,e=v+r*_,this.commitData(s,t,e,r)}else{if(h)break;n=u,r=n.acceleration,t=t+e*a+Math.pow(a,2)*r/2,e+=r*a,this.commitData(s,t,e,r)}}else t=l,e+=r*a,this.commitData(s,t,e,r)}},Motion.prototype.findTrialError=function(t){var e;if(t.initialPosition!==this.initialPosition)e={type:"s"};else if(t.initialVelocity!==this.initialVelocity)e={type:"v"};else for(var n=0;n<this.data.length;n++){var r=t.data[n];if(void 0!==r){if(r.a!==this.data[n].a){e={type:"a",position:this.data[n].s};break}}else console.warn("Missing data point on trial data")}return e},Motion.prototype.getRampAt=function(t,e){var n,r=this.ramps;for(n=0;n<r.length;n++)if(r[n].right>t){var a=r[n].left===t;a&&n>0&&(0===e?Math.abs(r[n-1].slope)>Math.abs(r[n].slope)&&n--:e<0&&n--);break}return n===r.length&&n--,r[n]},Motion.prototype.commitData=function(t,e,n,r){0!==t&&void 0!==this._data||(this._data=[]),this._data.push({t:t,s:e,v:n,a:r})},Motion}();e.Motion=a},function(t,e,n){"use strict";var r=n(3),a=n(106),i=n(107),o=n(67),s=n(104),l=function(){function GraphsPanelComponent(t,e){this.elementRef=t,this.changeDetector=e,this.margin={top:20,right:20,bottom:30,left:50},this.height=0,this.width=0,this.change=new r.EventEmitter,this.initialized=!1,this.zoomActive=!1,this.autoClearTrials=!0,this.trialsData=[]}return GraphsPanelComponent.prototype.ngOnInit=function(){this.svg=this.elementRef.nativeElement.querySelector("svg#chart"),this.mainGroup=d3.select(this.svg.querySelector("g#main-group")),this.trialClip=this.svg.querySelector("#trial-line-clip rect"),this.activeGraph="s"},GraphsPanelComponent.prototype.ngAfterViewInit=function(){var t=this;this.initialized=!0;var e=this.doubleTapRecognizer=new a.Manager(this.svg);e.add(new a.Tap({event:"doubletap",taps:2})),e.on("doubletap",function(e){t.toggleZoom()}),this.safeRefresh()},GraphsPanelComponent.prototype.ngOnDestroy=function(){this.doubleTapRecognizer&&(this.doubleTapRecognizer.destroy(),this.doubleTapRecognizer=null)},GraphsPanelComponent.prototype.ngOnChanges=function(t){t.goal&&(this.velocityDomain=void 0,this.goalData=this.goal.data,this.safeRefresh(!0,!0))},GraphsPanelComponent.prototype.clearHighlights=function(){this.requestingSelectionOf=void 0},GraphsPanelComponent.prototype.highlightError=function(t){if(t.type!==this.activeGraph)switch(t.type){case"s":this.highlightControl(o.UI_CONTROL.POSITION_GRAPH);break;case"v":this.highlightControl(o.UI_CONTROL.VELOCITY_GRAPH);break;case"a":this.highlightControl(o.UI_CONTROL.ACCELERATION_GRAPH)}},GraphsPanelComponent.prototype.highlightControl=function(t){switch(t){case o.UI_CONTROL.POSITION_GRAPH:this.requestingSelectionOf="s";break;case o.UI_CONTROL.VELOCITY_GRAPH:this.requestingSelectionOf="v";break;case o.UI_CONTROL.ACCELERATION_GRAPH:this.requestingSelectionOf="a"}this.changeDetector.markForCheck()},GraphsPanelComponent.prototype.selectGraph=function(t,e){if(void 0===e&&(e=!0),t!==this.activeGraph)switch(this.activeGraph=t,e&&this.refresh(!0,this.autoClearTrials),t){case"s":this.change.emit(o.UI_CONTROL.POSITION_GRAPH);break;case"v":this.change.emit(o.UI_CONTROL.VELOCITY_GRAPH);break;case"a":this.change.emit(o.UI_CONTROL.ACCELERATION_GRAPH)}t===this.requestingSelectionOf&&(this.requestingSelectionOf=void 0)},GraphsPanelComponent.prototype.addTrialData=function(t){this.trialsData.push(t),this.velocityDomain=void 0,this.refresh(!0)},GraphsPanelComponent.prototype.safeRefresh=function(t,e){var n=this;void 0===t&&(t=!1),void 0===e&&(e=!1),this.changeDetector.markForCheck(),setTimeout(function(){return n.refresh(t,e)},1)},GraphsPanelComponent.prototype.refresh=function(t,e){var n=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),this.initialized!==!1){e&&(this.trialsData=[]),t?this.trialsData.length?this.lineToClip=this.trialsData.length-1:this.lineToClip=-1:this.lineToClip=void 0,this.activeUrl=document.location.pathname;var r=this.svg.getBoundingClientRect();this.width=r.width-this.margin.left-this.margin.right,this.height=r.height-this.margin.top-this.margin.bottom;var a,o=this.goalData,s=this.activeGraph,l=this.scaleX=d3.scaleLinear().range([0,this.width]).domain([0,this.mode.simulation.duration]),c=this.scaleY=d3.scaleLinear().range([this.height,0]);switch(s){case"s":var u=this.mode.domain.position;c.domain([u.min,u.max]),a=6,this.axisTitle="Position (cm)";break;case"v":c.domain(this.getVelocityDomain()),a=this.height>200?10:5,this.axisTitle="Velocity (cm/s)";break;case"a":var h=this.mode.domain.posts,p=10*(h.max-h.min);c.domain([p*-1,p]),a=5,this.axisTitle="Acceleration (cm/s²)";break;default:throw"Unknown graph type"}var d=d3.axisBottom(l).tickValues([5,10,15,20,25]).tickFormat(function(t){return t+"s"});this.mainGroup&&this.mainGroup.selectAll(".axis").remove(),this.mainGroup.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+c(0)+")").call(d);var f=this.mainGroup.select(".axis-x .tick:last-child").node(0),g=f.querySelector("text").cloneNode(),m=parseFloat(g.getAttribute("y"))*-1.3;g.innerHTML="Time (s)",g.setAttribute("y",m.toString()),g.setAttribute("text-anchor","end"),f.appendChild(g);var y=d3.axisLeft(c).tickArguments([a]);this.mainGroup.append("g").attr("class","axis").call(y),this.goalLinePath=this.generateLinePath(o,s);for(var b=[],v=0,_=this.trialsData;v<_.length;v++){var C=_[v],I=this.generateLinePath(C,s);b.push(I)}if(this.trialLinePaths=b,this.lineToClip===-1){var O=!0,T=new i.Tween(0).to(1,600).onUpdate(function(t){return n.setTrialLineClip(t)}).onComplete(function(){O=!1,n.lineToClip=void 0,n.changeDetector.markForCheck(),setTimeout(function(){return n.setTrialLineClip(0)},1)}).start(),A=function(t){O&&(requestAnimationFrame(A),T.update(t))};A(0)}this.changeDetector.markForCheck()}},GraphsPanelComponent.prototype.generateLinePath=function(t,e){var n=this,r=d3.line().x(function(t){return n.scaleX(t.t)}).y(function(t){return n.scaleY(t[e])});return"a"===e&&r.curve(d3.curveStepBefore),r(t)},GraphsPanelComponent.prototype.getVelocityDomain=function(){var t=10;if(void 0===this.velocityDomain){for(var e=[this.goalData].concat(this.trialsData),n=1/0,r=-(1/0),a=0,i=e;a<i.length;a++){var o=i[a];n=Math.min(n,d3.min(o,function(t){return t.v})),r=Math.max(r,d3.max(o,function(t){return t.v}))}var s=Math.max(Math.abs(n),Math.abs(r)),l=Math.ceil(s/t)*t;this.velocityDomain=[l*-1,l]}return this.velocityDomain},GraphsPanelComponent.prototype.toggleZoom=function(){this.zoomActive=!this.zoomActive,this.changeDetector.detectChanges(),this.safeRefresh()},GraphsPanelComponent.prototype.cancelZoom=function(t){27===t.keyCode&&this.zoomActive&&this.toggleZoom()},GraphsPanelComponent.prototype.onResize=function(t){this.refresh()},GraphsPanelComponent.prototype.setTrialLineClip=function(t){var e=Math.floor(this.width*t).toString();this.trialClip.setAttribute("width",e)},__decorate([r.Input(),__metadata("design:type",Object)],GraphsPanelComponent.prototype,"mode",void 0),__decorate([r.Input(),__metadata("design:type",s.Motion)],GraphsPanelComponent.prototype,"goal",void 0),__decorate([r.Output(),__metadata("design:type",Object)],GraphsPanelComponent.prototype,"change",void 0),__decorate([r.HostListener("document:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],GraphsPanelComponent.prototype,"cancelZoom",null),__decorate([r.HostListener("window:resize"),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],GraphsPanelComponent.prototype,"onResize",null),GraphsPanelComponent=__decorate([r.Component({selector:"gt-graphs-panel",template:n(109),styles:[n(110)],changeDetection:r.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[r.ElementRef,r.ChangeDetectorRef])],GraphsPanelComponent)}();e.GraphsPanelComponent=l},,function(t,e,n){var r,a;(function(n){var i=i||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:i.now();r<t.length;)t[r].update(e)||n?r++:t.splice(r,1);return!0}}}();!function(){void 0===this.window&&void 0!==this.process?i.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?i.now=window.performance.now.bind(window.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()}}(),i.Tween=function(t){var e=t,n={},r={},a={},o=1e3,s=0,l=!1,c=!1,u=!1,h=0,p=null,d=i.Easing.Linear.None,f=i.Interpolation.Linear,g=[],m=null,y=!1,b=null,v=null,_=null;for(var C in t)n[C]=parseFloat(t[C],10);this.to=function(t,e){return void 0!==e&&(o=e),r=t,this},this.start=function(t){i.add(this),c=!0,y=!1,p=void 0!==t?t:i.now(),p+=h;for(var o in r){if(r[o]instanceof Array){if(0===r[o].length)continue;r[o]=[e[o]].concat(r[o])}void 0!==n[o]&&(n[o]=e[o],n[o]instanceof Array==!1&&(n[o]*=1),a[o]=n[o]||0)}return this},this.stop=function(){return c?(i.remove(this),c=!1,null!==_&&_.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=g.length;t<e;t++)g[t].stop()},this.delay=function(t){return h=t,this},this.repeat=function(t){return s=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return f=t,this},this.chain=function(){return g=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return b=t,this},this.onComplete=function(t){return v=t,this},this.onStop=function(t){return _=t,this},this.update=function(t){var i,c,_;if(t<p)return!0;y===!1&&(null!==m&&m.call(e),y=!0),c=(t-p)/o,c=c>1?1:c,_=d(c);for(i in r)if(void 0!==n[i]){var C=n[i]||0,I=r[i];I instanceof Array?e[i]=f(I,_):("string"==typeof I&&(I="+"===I.charAt(0)||"-"===I.charAt(0)?C+parseFloat(I,10):parseFloat(I,10)),"number"==typeof I&&(e[i]=C+(I-C)*_))}if(null!==b&&b.call(e,_),1===c){if(s>0){isFinite(s)&&s--;for(i in a){if("string"==typeof r[i]&&(a[i]=a[i]+parseFloat(r[i],10)),l){var O=a[i];a[i]=r[i],r[i]=O}n[i]=a[i]}return l&&(u=!u),p=t+h,!0}null!==v&&v.call(e);for(var T=0,A=g.length;T<A;T++)g[T].start(p+o);return!1}return!0}},i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,a=Math.floor(r),o=i.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[a],t[a+1>n?n:a+1],r-a)},Bezier:function(t,e){for(var n=0,r=t.length-1,a=Math.pow,o=i.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=a(1-e,r-s)*a(e,s)*t[s]*o(r,s);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,a=Math.floor(r),o=i.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(a=Math.floor(r=n*(1+e))),o(t[(a-1+n)%n],t[a],t[(a+1)%n],t[(a+2)%n],r-a)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[a?a-1:0],t[a],t[n<a+1?n:a+1],t[n<a+2?n:a+2],r-a)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=i.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,a){var i=.5*(n-t),o=.5*(r-e),s=a*a,l=a*s;return(2*e-2*n+i+o)*l+(-3*e+3*n-2*i-o)*s+i*a+e}}},function(n){r=[],a=function(){return i}.apply(e,r),!(void 0!==a&&(t.exports=a))}(this)}).call(e,n(108))},,function(t,e){t.exports='<md-card [class.fullscreen]="zoomActive">\n\t<div class="content-wrapper">\n\t\t<div id="graph-header" class="card-header">\n\t\t\t<span></span>\n\t\t\t<span class="card-header-selector graph-selector s"\n\t\t\t\t\t[class.active]="activeGraph === \'s\'"\n\t\t\t\t\t[class.pulsing]="requestingSelectionOf === \'s\'"\n\t\t\t\t\t(click)="selectGraph(\'s\', $event)"\n\t\t\t>\n\t\t\t\tPOSITION\n\t\t\t</span>\n\t\t\t<span class="card-header-selector graph-selector v"\n\t\t\t\t\t[class.active]="activeGraph === \'v\'"\n\t\t\t\t\t[class.pulsing]="requestingSelectionOf === \'v\'"\n\t\t\t\t\t(click)="selectGraph(\'v\', $event)"\n\t\t\t>\n\t\t\t\tVELOCITY\n\t\t\t</span>\n\t\t\t<span class="card-header-selector graph-selector a"\n\t\t\t\t\t[class.active]="activeGraph === \'a\'"\n\t\t\t\t\t[class.pulsing]="requestingSelectionOf === \'a\'"\n\t\t\t\t\t(click)="selectGraph(\'a\', $event)"\n\t\t\t>\n\t\t\t\tACCELERATION\n\t\t\t</span>\n\t\t\t<span></span>\n\t\t</div>\n\n\t\t<div id="graph-legend" class="card-header-actions card-header-actions-right">\n\t\t\t<span class="graph-legend goal {{activeGraph}}">CHALLENGE</span>\n\t\t\t<span class="graph-legend trial {{activeGraph}}">MOTION</span>\n\t\t\t<span class="action graph-action" (click)="refresh(false, true)">\n\t\t\t\t<md-icon small>cancel</md-icon>\n\t\t\t\tCLEAR\n\t\t\t</span>\n\t\t\t<span class="action graph-action" (click)="toggleZoom()">\n\t\t\t\t<md-icon>{{ zoomActive ? \'fullscreen_exit\' : \'fullscreen\' }}</md-icon>\n\t\t\t\t{{ zoomActive ? \'RESTORE\' : \'MAXIMIZE\' }}\n\t\t\t</span>\n\t\t</div>\n\n\t\t<div id="chart-container" class="card-content-with-header">\n\t\t\t<svg id="chart" [attr.class]="activeGraph">\n\t\t\t\t<defs>\n\t\t\t\t\t<clipPath id="trial-line-clip">\n\t\t\t\t\t\t<rect x="0" width="0"\n\t\t\t\t        [attr.y]="margin.top * -1"\n\t\t\t\t\t      [attr.height]="height + margin.top + margin.bottom"\n\t\t\t\t\t\t></rect>\n\t\t\t\t\t</clipPath>\n\t\t\t\t</defs>\n\t\t\t\t<g id="main-group" [attr.transform]="\'translate(\' + margin.left +\',\'+ margin.top +\')\'">\n\t\t\t\t\t<path class="line goal"\n\t\t\t\t\t\t\t[attr.d]="goalLinePath"\n\t\t\t\t\t\t\t[attr.clip-path]="(lineToClip === -1) ? \'url(\' + activeUrl + \'#trial-line-clip)\' : \'\'"\n\t\t\t\t\t></path>\n\t\t\t\t\t<path class="line trial" *ngFor="let trialPathData of trialLinePaths; let idx = index"\n\t\t\t\t\t\t\t[attr.d]="trialPathData"\n\t\t\t\t\t\t\t[attr.clip-path]="(lineToClip === idx) ? \'url(\' + activeUrl + \'#trial-line-clip)\' : \'\'"\n\t\t\t\t\t></path>\n\n\n\t\t\t\t\t<text class="axis-title" transform="rotate(-90)" dy=".71em" style="text-anchor: middle;"\n\t\t\t\t\t\t\t[attr.y]="(margin.left * -1) + 3"\n\t\t\t\t\t\t\t[attr.x]="height / -2"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{ axisTitle }}\n\t\t\t\t\t</text>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t</div>\n\t</div>\n</md-card>\n'},function(t,e){t.exports="#graph-header>span.graph-selector{font-weight:bold}#graph-header>span.graph-selector:hover{background:#E0E0E0}#graph-header>span.active,#graph-header>span.pulsing{color:white;text-shadow:0 0 .1em gray}#graph-header>span.s.active,#graph-header>span.s.pulsing{background:#ff6a33}#graph-header>span.v.active,#graph-header>span.v.pulsing{background:#2cb42c}#graph-header>span.a.active,#graph-header>span.a.pulsing{background:#699bc4}#graph-legend span{font-size:11px !important;padding:0 4px}#graph-legend span.graph-legend{height:calc(100% - 10px);border-bottom-width:2px;border-bottom-style:solid;margin:0 4px;vertical-align:top;padding-bottom:3px}#graph-legend span.graph-legend.goal{border-bottom-style:dashed}#graph-legend span.graph-legend.s{border-bottom-color:#ff6a33}#graph-legend span.graph-legend.v{border-bottom-color:#2cb42c}#graph-legend span.graph-legend.a{border-bottom-color:#699bc4}#chart-container{width:calc(100% - 40px)}#chart{width:100%;height:100%;display:block;box-sizing:border-box;margin-left:20px;margin-right:20px;pointer-events:bounding-box}#chart:not(.s) /deep/ .axis-x{stroke-dasharray:5 10}#chart:not(.s) /deep/ .axis-x path{opacity:.6}#chart:not(.s) /deep/ .axis-x .tick line{opacity:.6}#chart:not(.s) /deep/ .axis-x .tick text{opacity:.8}#chart.s /deep/ .line{stroke:#ff6a33}#chart.v /deep/ .line{stroke:#2cb42c}#chart.a /deep/ .line{stroke:#699bc4}#chart /deep/ .line{fill:none;stroke-width:2px;stroke:black}#chart /deep/ .line.goal{stroke-dasharray:10 20;animation:dashing 1s linear infinite}#chart /deep/ .line.trial{stroke-opacity:.2 !important}#chart /deep/ .line.trial:last-of-type{stroke-opacity:1 !important}#chart /deep/ .axis{shape-rendering:crispEdges}@keyframes dashing{0%{stroke-dashoffset:30}100%{stroke-dashoffset:0}}\n"},function(t,e,n){"use strict";var r=n(3),a=n(67),i=n(102),o=n(106),s=n(91),l=n(64),c=function(){function TrackPanelComponent(t){var e=this;this.element=t,this.roll=new r.EventEmitter,this.change=new r.EventEmitter,this.abort=new r.EventEmitter,this.colors=l.THEME.colors,this.initialized=!1,this.rolling=!1,this.rollingSingle=!1,this.ignoreNext=!1,this.velocitySetter=function(t){var n=e.setup.velocity!==t;e.setup.velocity=t,n&&(e.change.emit(a.UI_CONTROL.VELOCITY_SCALE),e.updateBallPostion(e.setup.position)),"v"===e.requestingSelectionOf&&(e.requestingSelectionOf=void 0)},this.positionSetter=function(t){var n=e.setup.position!==t;n?(e.setup.position=t,e.updateBallPostion(t),e.change.emit(a.UI_CONTROL.POSITION_SCALE)):e.rollingSingle||e.updateBallPostion(),"s"===e.requestingSelectionOf&&(e.requestingSelectionOf=void 0)}}return TrackPanelComponent.prototype.ngOnInit=function(){var t=this.mode.domain.posts,e=this.mode.domain.position,n=this.mode.domain.velocity;this.postsScale=[],this.velocityScale=[],this.positionScale=[];for(var r=t.min;r<=t.max;r+=t.step)this.postsScale.push(r);for(var r=e.min;r<=e.max;r+=e.step)this.positionScale.push(r);for(var r=n.min;r<=n.max;r+=n.step)this.velocityScale.push(r);this.setup=this.setup||l.INITIAL_SETUP},TrackPanelComponent.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.initialized=!0,t.track.refresh()},500),this.rollButton=this.element.nativeElement.querySelector("#ball-roller");var e=this.longPressHandler=new o.Manager(this.rollButton);e.add(new o.Press({time:1e3})),e.on("press",function(){return t.rollBall(!0)});var n=this.element.nativeElement.querySelector("md-card"),r=this.tapHandler=new o.Manager(n);r.add(new o.Tap({event:"singletap",taps:1})),r.on("singletap",function(){t.rolling&&t.abort.emit()})},TrackPanelComponent.prototype.ngOnDestroy=function(){this.longPressHandler&&(this.longPressHandler.destroy(),this.longPressHandler=null),this.tapHandler&&(this.tapHandler.destroy(),this.tapHandler=null)},TrackPanelComponent.prototype.onTrackChange=function(t){0===t?this.change.emit(a.UI_CONTROL.TRACK_POST_FIRST):this.change.emit(a.UI_CONTROL.TRACK_POST_ANY)},TrackPanelComponent.prototype.onAnimationEnded=function(t){var e=this;void 0===t&&(t=!1),this.rolling=!1,t||(this.rollingSingle=!1,this.ballResetTimout=setTimeout(function(){e.updateBallPostion(),e.cancelBallReset()},3e3))},TrackPanelComponent.prototype.rollBall=function(t){if(void 0===t&&(t=!1),t)this.ignoreNext=!0,this.rollingSingle=!0;else{if(this.ignoreNext)return void(this.ignoreNext=!1);this.rollingSingle=!1}var e=i.cloneDeep(this.setup);e.breakDown=t,this.roll.emit(e),"b"===this.requestingSelectionOf&&(this.requestingSelectionOf=void 0)},TrackPanelComponent.prototype.clearHighlights=function(){this.track.highlightRamp(),this.track.highlightPost(),this.requestingSelectionOf=void 0},TrackPanelComponent.prototype.highlightError=function(t){switch(t.type){case"s":this.highlightControl(a.UI_CONTROL.POSITION_SCALE);break;case"v":this.highlightControl(a.UI_CONTROL.VELOCITY_SCALE);break;case"a":this.highlightControl(a.UI_CONTROL.TRACK_RAMP,t.position)}},TrackPanelComponent.prototype.highlightControl=function(t,e){switch(t){case a.UI_CONTROL.ROLL_BUTTON:case a.UI_CONTROL.ROLL_BUTTON_HOLD:this.requestingSelectionOf="b";break;case a.UI_CONTROL.POSITION_SCALE:this.requestingSelectionOf="s";break;case a.UI_CONTROL.VELOCITY_SCALE:this.requestingSelectionOf="v";break;case a.UI_CONTROL.TRACK_POST_ANY:this.track.highlightPost(-1);break;case a.UI_CONTROL.TRACK_POST_FIRST:this.track.highlightPost(0);break;case a.UI_CONTROL.TRACK_RAMP:e&&this.track.highlightRamp(e)}},TrackPanelComponent.prototype.updateBallPostion=function(t){this.track.updateBallPostion(t)},TrackPanelComponent.prototype.cancelBallReset=function(){this.ballResetTimout&&(clearInterval(this.ballResetTimout),this.ballResetTimout=void 0)},__decorate([r.ViewChild(s.TrackComponent),__metadata("design:type",s.TrackComponent)],TrackPanelComponent.prototype,"track",void 0),__decorate([r.Input(),__metadata("design:type",Object)],TrackPanelComponent.prototype,"mode",void 0),__decorate([r.Output("roll"),__metadata("design:type",Object)],TrackPanelComponent.prototype,"roll",void 0),__decorate([r.Output(),__metadata("design:type",Object)],TrackPanelComponent.prototype,"change",void 0),__decorate([r.Output(),__metadata("design:type",Object)],TrackPanelComponent.prototype,"abort",void 0),TrackPanelComponent=__decorate([r.Component({selector:"gt-track-panel",template:n(112),styles:[n(113)]}),__metadata("design:paramtypes",[r.ElementRef])],TrackPanelComponent)}();e.TrackPanelComponent=c},function(t,e){t.exports='<md-card [class.no-interaction]="rolling" [class.fullscreen]="zoomActive">\n\t<md-card-content id="track">\n\t\t<gt-track\n\t\t\t\t(change)="onTrackChange($event)"\n\t\t\t\t[mode]="mode" [postsSetup]="setup.posts" [position]="setup.position"\n\t\t></gt-track>\n\t</md-card-content>\n\t<md-card-content id="track-controls">\n\t\t<gt-scale id="position-scale"\n\t\t\t\t[class.pulsing-scale]="requestingSelectionOf === \'s\'"\n\t\t\t\t[color]="colors.position" [domain]="mode.domain.position" [value]="setup.position"\n\t\t\t\t(slide)="!rollingSingle && track.updateBallPostion($event)" (change)="positionSetter($event)"\n\t\t></gt-scale>\n\n\t\t<div id="slider-info-container">\n\t\t\t<span id="position-slider-info" class="slider-info">\n\t\t\t\t<span class="slider-info-label">INITIAL POSITION</span>\n\t\t\t\t<span class="slider-info-value">{{setup.position}} <small>cm</small></span>\n\t\t\t</span>\n\t\t\t<span id="ball-roller" class="slider-info"\n\t\t\t\t\t[class.pulsing-alt]="requestingSelectionOf === \'b\'"\n\t\t\t\t\t(click)="rollBall()">\n\t\t\t\tROLL BALL\n\t\t\t</span>\n\t\t\t<span id="velocity-slider-info" class="slider-info">\n\t\t\t\t<span class="slider-info-value">{{setup.velocity}} <small>cm/s</small></span>\n\t\t\t\t<span class="slider-info-label">INITIAL VELOCITY</span>\n\t\t\t</span>\n\t\t</div>\n\n\t\t<gt-scale id="velocity-scale"\n\t\t\t\t[class.pulsing-scale]="requestingSelectionOf === \'v\'"\n\t\t\t\t[color]="colors.velocity" [domain]="mode.domain.velocity" [value]="setup.velocity"\n\t\t\t\t(change)="velocitySetter($event)"\n\t\t></gt-scale>\n\t</md-card-content>\n</md-card>\n'},function(t,e){t.exports="#track{height:calc(100% - 110px);margin-bottom:0 !important}#track-controls{height:110px;overflow:hidden;position:relative}#track-controls gt-scale{margin:0 15px;overflow:hidden}#track-controls gt-scale#position-scale{border-radius:4px 4px 0 0}#track-controls gt-scale#velocity-scale{border-radius:0 0 4px 4px}#track-controls gt-scale.pulsing-scale /deep/ #slider{animation:pulse 1s linear infinite}#track-controls #slider-info-container{background:linear-gradient(to right, #ff4500, #ff4500 49.9%, #228b22 50%, #228b22);margin:0 15px;height:20px;display:flex;white-space:nowrap}#track-controls #slider-info-container .slider-info{flex:2 0 0px;height:20px;line-height:19px;font-weight:bold}#track-controls #slider-info-container .slider-info .slider-info-value{display:inline-block;min-width:80px;box-sizing:border-box;position:relative;text-align:center;color:#333}#track-controls #slider-info-container .slider-info .slider-info-value:before,#track-controls #slider-info-container .slider-info .slider-info-value:after{content:' ';display:inline-block;position:absolute;width:0;height:0}#track-controls #slider-info-container .slider-info .slider-info-label{color:white;text-shadow:0 0 .1em gray}#track-controls #slider-info-container #ball-roller{background:crimson;flex:1 0 0;padding:0 20px;text-align:center;color:white;text-shadow:0 0 .1em gray;cursor:pointer}#track-controls #slider-info-container #ball-roller:hover{background:red}#track-controls #slider-info-container #position-slider-info{text-align:right}#track-controls #slider-info-container #position-slider-info .slider-info-value{background:#ffa280;padding:0 2px 0 20px}#track-controls #slider-info-container #position-slider-info .slider-info-value:after{border-top:20px solid #ffa280;border-right:20px solid transparent;margin-left:2px;right:-20px}#track-controls #slider-info-container #position-slider-info .slider-info-value:before{border-top:20px solid #ff4500;border-right:20px solid transparent;left:0}#track-controls #slider-info-container #velocity-slider-info .slider-info-value{background:#57d657;padding:0 20px 0 2px}#track-controls #slider-info-container #velocity-slider-info .slider-info-value:before{border-bottom:20px solid #57d657;border-left:20px solid transparent;left:-20px}#track-controls #slider-info-container #velocity-slider-info .slider-info-value:after{border-bottom:20px solid #228b22;border-left:20px solid transparent;right:0}\n"},function(t,e,n){"use strict";var r=n(3);e.SWITCH_DURATION=300,e.SWITCH_ANIMATION=[r.transition("void => toRight",[r.style({transform:"translateX(-100%) scale(.2)",opacity:0}),r.animate(e.SWITCH_DURATION+"ms ease-out",r.style({transform:"translateX(0%) scale(1)",opacity:1}))]),r.transition("void => toLeft",[r.style({transform:"translateX(100%) scale(.2)",opacity:0}),r.animate(e.SWITCH_DURATION+"ms ease-out",r.style({transform:"translateX(0%) scale(1)",opacity:1}))]),r.transition("toRight => void",[r.animate(e.SWITCH_DURATION+"ms ease-in",r.style({transform:"translateX(100%) scale(.6)",opacity:0}))]),r.transition("toLeft => void",[r.animate(e.SWITCH_DURATION+"ms ease-in",r.style({transform:"translateX(-100%) scale(.6)",opacity:0}))])]},function(t,e){t.exports='<md-grid-list card-no-pad card-fill rowHeight="fit" cols="4" gutterSize="8px">\n\t<md-grid-tile colspan="1" rowspan="4">\n\t\t<md-card id="info-card">\n\t\t\t<div class="content-wrapper">\n\t\t\t\t<div class="card-header">\n\t\t\t\t\t<span *ngIf="isDemo"></span>\n\t\t\t\t\t<span *ngIf="!isDemo"\n\t\t\t\t\t      class="challenge-selector" (click)="navigateTo(\'toRight\')"\n\t\t\t\t\t      [class.disabled]="collectionIndex === 0"\n\t\t\t\t\t>\n\t\t\t\t\t\t<md-icon>chevron_left</md-icon>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span id="title-container" class="active">\n\t\t\t\t\t\t<template [ngIf]="auth.user.settings.effects">\n\t\t\t\t\t\t\t<template ngFor let-name [ngForOf]="[challenge.name]">\n\t\t\t\t\t\t\t\t<div [@challengeSwitch]="switchDirection">\n\t\t\t\t\t\t\t\t\t{{ name }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template [ngIf]="!(auth.user.settings.effects)">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{ name }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span *ngIf="isDemo"></span>\n\t\t\t\t\t<span *ngIf="!isDemo"\n\t\t\t\t\t      class="challenge-selector" (click)="navigateTo(\'toLeft\')"\n\t\t\t\t\t      [class.disabled]="collectionIndex === (collectionIds.length - 1)"\n\t\t\t\t\t>\n\t\t\t\t\t\t<md-icon>chevron_right</md-icon>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div id="challenge-info" *ngIf="!isDemo" class="card-header-actions card-header-actions-left">\n\t\t\t\t\t<span><b>Challenge</b></span>\n\t\t\t\t</div>\n\t\t\t\t<div id="challenge-help" *ngIf="!isDemo" class="card-header-actions card-header-actions-right">\n\t\t\t\t\t<span id="hints-button" class="action"\n\t\t\t\t\t      [class.active]="hintsEnabled"\n\t\t\t\t\t      (click)="onHintToggle()"\n\t\t\t\t\t      title="{{ hintsEnabled ? \'Disable\' : \'Enable\' }} hint messages"\n\t\t\t\t\t>\n\t\t\t\t\t\t<md-icon small>lightbulb_outline</md-icon>\n\t\t\t\t\t\tHINTS\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span id="help-button" class="action" [routerLink]="[\'../\', \'tutorial\']">\n\t\t\t\t\t\t\t<md-icon small>school</md-icon>\n\t\t\t\t\t\t\tTUTORIAL\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<md-card-content class="card-content-with-header-and-actions" scroll-y>\n\t\t\t\t\t<div id="attempts">\n\t\t\t\t\t\t<span *ngIf="commitedAttempts > 0">\n\t\t\t\t\t\t\t<md-icon [class.one-bump]="attempts.length === commitedAttempts">not_interested</md-icon>\n\t\t\t\t\t\t\t<b [class.one-bumpy]="attempts.length === commitedAttempts">\n\t\t\t\t\t\t\t\t{{ commitedAttempts }} attempt{{ commitedAttempts > 1 ? \'s\' : \'\'}} made\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="hint-card" [class.visible]="(hintsEnabled && !hintDismissed) || isTutorial" [class.tutorial]="isTutorial">\n\t\t\t\t\t\t<md-icon *ngIf="!isTutorial" id="hint-close" (click)="clearHints()">close</md-icon>\n\t\t\t\t\t\t<b id="hint-title">\n\t\t\t\t\t\t\t<md-icon *ngIf="!isTutorial">lightbulb_outline</md-icon>\n\t\t\t\t\t\t\t<md-icon *ngIf="isTutorial">school</md-icon>\n\t\t\t\t\t\t\t<span [innerHTML]="hintTitle"></span>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t\t<p [innerHTML]="hintMessage"></p>\n\t\t\t\t\t\t<div id="tutorial-actions" *ngIf="isTutorial">\n\t\t\t\t\t\t\t<span id="tutorial-end"\n\t\t\t\t\t\t\t      (click)="endTutorial()">End Tutorial</span>\n\t\t\t\t\t\t\t<span id="tutorial-next"\n\t\t\t\t\t\t\t      *ngIf="tutorialHasNext()"\n\t\t\t\t\t\t\t      [class.disabled]="tutorialRequires.length"\n\t\t\t\t\t\t\t      (click)="tutorialNextStep()">\n\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t<md-icon>chevron_right</md-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</md-card-content>\n\t\t\t</div>\n\t\t</md-card>\n\t</md-grid-tile>\n\n\t<md-grid-tile colspan="3" rowspan="4">\n\t\t<gt-graphs-panel\n\t\t\t\t\t\t[mode]="challenge.mode" [goal]="goalMotion"\n\t\t\t\t\t\t(change)="onGraphPanelChange($event)"\n\t\t></gt-graphs-panel>\n\t</md-grid-tile>\n\n\t<md-grid-tile colspan="4" rowspan="3">\n\t\t<gt-track-panel\n\t\t\t\t\t\t[mode]="goalMotion.mode"\n\t\t\t\t\t\t(abort)="onAbort()" (roll)="onRollBall($event)" (change)="onTrackPanelChange($event)"\n\t\t></gt-track-panel>\n\t</md-grid-tile>\n</md-grid-list>\n';
},function(t,e){t.exports=".card-header #title-container{background:transparent;position:relative}.card-header #title-container>div{background:#F0F0F0 !important;position:absolute;transform-origin:50% 50%;width:100%;height:100%;top:0;left:0}.card-header .challenge-selector{will-change:background;transition:background 100ms linear}.card-header .challenge-selector,.card-header .challenge-selector md-icon{cursor:pointer !important}.card-header .challenge-selector:hover{background:#DDD}.card-header .challenge-selector.disabled{opacity:.3;pointer-events:none}#challenge-title{font-weight:600;font-size:18px}.card-header-actions span{margin:0 5px;padding:0 5px}.card-header-actions md-icon{vertical-align:middle;width:auto;margin-bottom:-3px}#hints-button{margin-left:15px !important}#hints-button.active{color:darkorange;background:papayawhip}#hints-button.active md-icon{color:orange}#attempts{color:salmon;font-size:18px;line-height:18px;padding:16px}#attempts md-icon{transform-origin:50% 50%;transform:scale(1);vertical-align:middle;margin-top:-3px}#attempts b{transform-origin:50% 50%;transform:scale(1);display:inline-block}#hint-card{background:papayawhip;visibility:hidden;transform:scale(0.6);will-change:transform;width:100%;position:absolute;bottom:0;transform-origin:center bottom;padding:16px;box-sizing:border-box}#hint-card.tutorial{margin-top:0;transform:scale(1);visibility:visible;top:0;background:#CEF}#hint-card.tutorial #hint-title{color:dodgerblue}#hint-card.tutorial #hint-close:hover{background:#6cf}#hint-card.visible{transform:scale(1);visibility:visible;transition:transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275) 10ms}#hint-card.visible.bump{transform:scale(0.6);transition:none}#hint-card #hint-close{float:right;margin:5px;font-size:14px;line-height:24px;cursor:pointer;padding:4px;text-align:center}#hint-card #hint-close:hover{background:#ffc86f}#hint-card #hint-title{display:inline-block;line-height:24px;color:darkorange}#hint-card #hint-title md-icon{vertical-align:top}#hint-card #hint-title span{font-size:18px}#hint-card p{color:#333;font-size:16px}#hint-card p /deep/ span{white-space:nowrap}#hint-card p /deep/ b.s{color:#ff6a33}#hint-card p /deep/ b.v{color:#2cb42c}#hint-card p /deep/ b.a{color:#699bc4}#hint-card p /deep/ b.b{color:crimson}.setup-info{font-size:80%}.setup-info span{background:#AAA;border-radius:3px;color:white;padding:2px 4px;margin-right:15px}#tutorial-actions{position:absolute;bottom:0;width:100%;color:dodgerblue;text-align:right;box-sizing:border-box;height:auto;left:0;padding:16px;background:rgba(255,255,255,0.3)}#tutorial-actions>*,#tutorial-actions>* *{padding:8px;cursor:pointer !important}#tutorial-actions #tutorial-next{background:dodgerblue;color:#CEF;font-weight:bold;border-radius:3px;animation:1s pulse linear infinite}#tutorial-actions #tutorial-next md-icon{width:auto;display:inline-block;height:auto;padding:0;vertical-align:middle;margin:-5px}#tutorial-actions .disabled{animation:none !important;background:#CCC !important;color:#999 !important;pointer-events:none}\n"},function(t,e,n){"use strict";var r=n(3),a=function(){function AboutComponent(){}return AboutComponent.prototype.ngOnInit=function(){},AboutComponent=__decorate([r.Component({selector:"gt-about",template:"<h1>TODO: ABOUT</h1>"}),__metadata("design:paramtypes",[])],AboutComponent)}();e.AboutComponent=a},function(t,e,n){"use strict";var r=n(3),a=function(){function EditorComponent(){}return EditorComponent.prototype.ngOnInit=function(){},EditorComponent=__decorate([r.Component({selector:"gt-editor",template:"<h1>TODO: EDITOR</h1>"}),__metadata("design:paramtypes",[])],EditorComponent)}();e.EditorComponent=a},function(t,e,n){"use strict";var r=n(3),a=function(){function DumpPipe(){}return DumpPipe.prototype.transform=function(t,e){return JSON.stringify(t)},DumpPipe=__decorate([r.Pipe({name:"dump"}),__metadata("design:paramtypes",[])],DumpPipe)}();e.DumpPipe=a},function(t,e,n){"use strict";var r=n(3),a=n(121),i=function(){function ScaleComponent(){this.color="black",this.change=new r.EventEmitter,this.slide=new r.EventEmitter}return ScaleComponent.prototype.ngOnInit=function(){var t,e;for(this.domain&&(this.min=this.domain.min,this.max=this.domain.max,this.step=this.domain.step),this.scale=[],e=this.min;e<=this.max;e+=this.step)this.scale.push(e);var n=e-this.step;this.scaleRange=n-this.min,void 0===this.value&&(t=Math.round(this.scale.length/2)-1,this.value=this.scale[t]),this.interval=1/this.scale.length},ScaleComponent.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.slider.updateBoundaries()},1)},ScaleComponent.prototype.onSlide=function(t){var e=this.getValueAtPosition(t);e!==this.value&&(this.value=e),this.slide.emit(this.min+this.scaleRange*t)},ScaleComponent.prototype.onChange=function(t){this.value=this.getValueAtPosition(t),this.change.emit(this.value)},ScaleComponent.prototype.getValueAtPosition=function(t){var e=1===t?this.scale.length-1:Math.floor(t/this.interval);return this.scale[e]},ScaleComponent.prototype.setStyles=function(){return{background:this.color,color:this.color,"border-top-color":this.color,"border-bottom-color":this.color}},__decorate([r.Input(),__metadata("design:type",Number)],ScaleComponent.prototype,"min",void 0),__decorate([r.Input(),__metadata("design:type",Number)],ScaleComponent.prototype,"max",void 0),__decorate([r.Input(),__metadata("design:type",Number)],ScaleComponent.prototype,"step",void 0),__decorate([r.Input(),__metadata("design:type",Object)],ScaleComponent.prototype,"domain",void 0),__decorate([r.Input(),__metadata("design:type",Number)],ScaleComponent.prototype,"value",void 0),__decorate([r.Input(),__metadata("design:type",Object)],ScaleComponent.prototype,"color",void 0),__decorate([r.Output(),__metadata("design:type",Object)],ScaleComponent.prototype,"change",void 0),__decorate([r.Output(),__metadata("design:type",Object)],ScaleComponent.prototype,"slide",void 0),__decorate([r.ViewChild(a.SliderDirective),__metadata("design:type",a.SliderDirective)],ScaleComponent.prototype,"slider",void 0),ScaleComponent=__decorate([r.Component({selector:"gt-scale",template:n(122),styles:[n(123)]}),__metadata("design:paramtypes",[])],ScaleComponent)}();e.ScaleComponent=i},function(t,e,n){"use strict";var r=n(3),a=n(106),i=function(){function SliderDirective(t){var e=this;this.vertical=!1,this.emitTap=!1,this.reference=null,this.start=0,this.end=0,this.slide=new r.EventEmitter,this.change=new r.EventEmitter,this.tap=new r.EventEmitter,this.cancelNextPan=!1,this.onPanStart=function(t){e.updateBoundaries()},this.onPan=function(t){var n=e.getRelativePosition(t);e.slide.emit(n)},this.onPanEnd=function(t){var n=e.getRelativePosition(t);e.change.emit(n)},this.onTap=function(t){var n=e.getRelativePosition(t);e.tap.emit(n)},this.target=t.nativeElement}return SliderDirective.prototype.ngOnInit=function(){var t,e,n=this;this.vertical?(t=a.DIRECTION_VERTICAL,e="panup pandown"):(t=a.DIRECTION_HORIZONTAL,e="panleft panright"),this.handler=new a.Manager(this.target,{recognizers:[[a.Tap],[a.Pan,{direction:t}]]}),this.handler.on("panstart",this.onPanStart),this.handler.on(e,this.onPan),this.emitTap?(this.handler.on("tap",this.onTap),this.handler.on("panend",this.onPanEnd)):this.handler.on("tap panend",this.onPanEnd),setTimeout(function(){n.updateBoundaries()},10)},SliderDirective.prototype.ngOnDestroy=function(){this.handler&&(this.handler.destroy(),this.handler=null)},SliderDirective.prototype.getRelativePosition=function(t){var e=this.vertical?t.center.y:t.center.x,n=e-this.sliderStart,r=n/this.sliderSize;return r=Math.max(0,Math.min(r,1))},SliderDirective.prototype.updateBoundaries=function(){var t=(this.reference||this.target).getBoundingClientRect();this.sliderStart=this.vertical?t.top:t.left,this.sliderEnd=this.vertical?t.bottom:t.right,this.sliderStart+=this.start,this.sliderEnd-=this.end,this.sliderSize=this.sliderEnd-this.sliderStart},SliderDirective.prototype.onResize=function(){this.updateBoundaries()},__decorate([r.Input(),__metadata("design:type",Boolean)],SliderDirective.prototype,"vertical",void 0),__decorate([r.Input(),__metadata("design:type",Boolean)],SliderDirective.prototype,"emitTap",void 0),__decorate([r.Input(),__metadata("design:type",HTMLElement)],SliderDirective.prototype,"reference",void 0),__decorate([r.Input(),__metadata("design:type",Number)],SliderDirective.prototype,"start",void 0),__decorate([r.Input(),__metadata("design:type",Number)],SliderDirective.prototype,"end",void 0),__decorate([r.Output(),__metadata("design:type",r.EventEmitter)],SliderDirective.prototype,"slide",void 0),__decorate([r.Output(),__metadata("design:type",r.EventEmitter)],SliderDirective.prototype,"change",void 0),__decorate([r.Output(),__metadata("design:type",r.EventEmitter)],SliderDirective.prototype,"tap",void 0),__decorate([r.HostListener("window:resize"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SliderDirective.prototype,"onResize",null),SliderDirective=__decorate([r.Directive({selector:"[gtSlider]"}),__metadata("design:paramtypes",[r.ElementRef])],SliderDirective)}();e.SliderDirective=i},function(t,e){t.exports='<div id="slider-container" [ngStyle]="setStyles()">\n\t<div id="slider" gtSlider\n\t\t\t(change)="onChange($event)"\n\t\t\t(slide)="onSlide($event)"\n\t>\n\t\t<span *ngFor="let val of scale" [class.selected]="value === val">\n\t\t\t{{val + (val < 0 ? \'&nbsp;\' : \'\')}}\n\t\t</span>\n\t</div>\n</div>\n'},function(t,e){t.exports=":host{display:block}#slider-container{padding:5px;display:block}#slider-container /deep/ *{border-top-color:inherit;border-bottom-color:inherit;color:inherit}#slider{font-family:'Roboto Mono', 'Roboto', 'Helvetica Neue', sans-serif;background:#F0F0F0;box-shadow:inset 0 0 0.3em rgba(0,0,0,0.5),inset 0 0 1em rgba(0,0,0,0.3);line-height:18px;display:flex;border-radius:4px}#slider span{text-align:center;flex:1 0 0px;padding:5px 0;font-size:12px;color:#333}#slider span.selected{font-size:16px;font-weight:bolder;position:relative;color:inherit}#slider span.selected:before,#slider span.selected:after{content:' ';width:0;height:0;display:block;border-left:10px solid transparent;border-right:10px solid transparent;position:absolute;left:50%;transform:translateX(-50%)}#slider span.selected:before{border-top:6px solid;border-top-color:inherit;top:0}#slider span.selected:after{border-bottom:6px solid;border-bottom-color:inherit;bottom:0}\n"},function(t,e,n){"use strict";var r=n(3),a=function(){function ChallengeListItemComponent(){}return ChallengeListItemComponent.prototype.ngOnInit=function(){},__decorate([r.Input(),__metadata("design:type",Object)],ChallengeListItemComponent.prototype,"challenge",void 0),ChallengeListItemComponent=__decorate([r.Component({selector:"gt-challenge-list-item",template:n(125),styles:[n(126)]}),__metadata("design:paramtypes",[])],ChallengeListItemComponent)}();e.ChallengeListItemComponent=a},function(t,e){t.exports='<div id="item-container" [routerLink]="[\'/challenges\', challenge.id]">\n\t<b md-line>\n\t\t<md-icon>star_border</md-icon>\n\t\t{{ challenge.name }}\n\t</b>\n\t<br>\n\t<span class="incomplete">Incomplete (0 attempts)</span>\n\t<b></b>\n</div>\n'},function(t,e){t.exports="#item-container{position:relative;padding:16px;margin:8px;border-radius:3px;background:#F0F0F0}#item-container,#item-container *{cursor:pointer !important}#item-container:hover{background:#CACACA}#item-container b{line-height:24px;display:inline-block}#item-container b md-icon{vertical-align:middle;margin-top:-5px}#item-container span{color:#999}#item-container span.incomplete{color:lightcoral}#item-container span.complete{color:lightgreen}\n"},function(t,e){},,,,127,,127,,127]);
//# sourceMappingURL=app.8aaebd194295ce4f3c81.js.map