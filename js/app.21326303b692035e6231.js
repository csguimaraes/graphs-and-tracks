webpackJsonp([0],{0:function(t,n,e){"use strict";var i=e(1),o=e(112),a=e(256),r=e(309),s=e(403),l=e(420),c=e(443),d=e(457);e(458),e(462),e(464),e(466),i.enableProdMode();var p=i.provide(i.PLATFORM_DIRECTIVES,{useValue:[a.ROUTER_DIRECTIVES,s.MdIcon],multi:!0}),m=i.provide(i.PLATFORM_PIPES,{useValue:[d.DumpPipe],multi:!0}),h=[{path:"",component:l.HomeComponent},{path:"challenges",component:l.ChallengeListComponent},{path:"challenges/:id",component:l.ChallengeViewerComponent},{path:"challenges/:id/edit",component:l.ChallengeEditorComponent}],u=a.provideRouter(h);r.bootstrap(l.AppComponent,[o.HTTP_PROVIDERS,u,p,m,c.StorageService,s.MdIconRegistry])["catch"](function(t){return console.error(t)})},420:function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(421)),i(e(433)),i(e(442)),i(e(448)),i(e(456))},421:function(t,n,e){"use strict";var i=e(1),o=e(422),a=e(423),r=e(424),s=e(428),l=e(429),c=function(){function t(){this.views=[{name:"Challenges",link:"challenges",icon:"stars"}]}return t=__decorate([i.Component({selector:"app",template:e(431),styles:[e(432)],directives:[o.MD_TOOLBAR_DIRECTIVES,r.MD_SIDENAV_DIRECTIVES,a.MD_CARD_DIRECTIVES,s.MD_BUTTON_DIRECTIVES,l.MD_LIST_DIRECTIVES]}),__metadata("design:paramtypes",[])],t)}();n.AppComponent=c},431:function(t,n){t.exports='<md-sidenav-layout fullscreen>\n\n\t<md-sidenav #sidenav>\n\t\t<md-nav-list>\n\t\t\t<a md-list-item *ngFor="let view of views" [routerLink]="[view.link]" (click)="sidenav.close()">\n\t\t\t\t<md-icon md-list-icon>{{view.icon}}</md-icon>\n\t\t\t\t<span md-line>{{view.name}}</span>\n\t\t\t</a>\n\t\t</md-nav-list>\n\t</md-sidenav>\n\n\t<md-toolbar color="primary">\n\t\t<button md-icon-button (click)="sidenav.open()">\n\t\t\t<md-icon>menu</md-icon>\n\t\t</button>\n\t\t<span class="logo">\n\t\t\tGraphs and Tracks\n\t\t\t<small>BETA</small>\n\t\t</span>\n\n\t\t<filler></filler>\n\n\t\t<button md-button [disabled]="true">\n\t\t\tStudent 42\n\t\t\t<md-icon light inactive>account_circle</md-icon>\n\t\t</button>\n\n\t</md-toolbar>\n\n\t<div id="main-container">\n\t\t<router-outlet></router-outlet>\n\t</div>\n</md-sidenav-layout>\n'},432:function(t,n){t.exports="h1{text-decoration:underline}.logo small{opacity:.8;margin-left:10px;font-size:60%}\n"},433:function(t,n,e){"use strict";var i=e(1),o=e(423),a=e(434),r=e(429),s=function(){function t(){}return t.prototype.ngOnInit=function(){},t=__decorate([i.Component({selector:"home",template:e(440),styles:[e(441)],directives:[o.MD_CARD_DIRECTIVES,r.MD_LIST_DIRECTIVES,a.MD_GRID_LIST_DIRECTIVES]}),__metadata("design:paramtypes",[])],t)}();n.HomeComponent=s},440:function(t,n){t.exports='<div id="logo-splash">\n\t<md-icon>multiline_chart</md-icon>\n\tGraphs and Tracks\n\t<small>BETA</small>\n</div>\n'},441:function(t,n){t.exports=""},442:function(t,n,e){"use strict";var i=e(1),o=e(423),a=e(429),r=e(434),s=e(443),l=function(){function n(t){this.storage=t}return n.prototype.ngOnInit=function(){this.challenges=this.storage.challenges},n=__decorate([i.Component({moduleId:t.id,selector:"about",template:e(446),styles:[e(447)],directives:[o.MD_CARD_DIRECTIVES,a.MD_LIST_DIRECTIVES,r.MD_GRID_LIST_DIRECTIVES]}),__metadata("design:paramtypes",[s.StorageService])],n)}();n.ChallengeListComponent=l},443:function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(444))},444:function(t,n,e){"use strict";var i=e(1),o=e(445),a=function(){function t(){this.id=0}return Object.defineProperty(t.prototype,"challenges",{get:function(){return void 0===this._challenges&&(this._challenges=this.parseDefaultChallenges()),this._challenges.slice()},enumerable:!0,configurable:!0}),t.prototype.getChallenge=function(t){return this.challenges.find(function(n){return n.id===t})},t.prototype.parseDefaultChallenges=function(){for(var t=[],n=0,e=o.DEFAULT_CHALLENGES;n<e.length;n++){var i=e[n],a=this.generateId();t.push({id:a,name:"Challenge #"+a,custom:!1,goal:i})}return t},t.prototype.generateId=function(){return this.id++,this.id.toString()},t=__decorate([i.Injectable(),__metadata("design:paramtypes",[])],t)}();n.StorageService=a},445:function(t,n){"use strict";n.MODE_NORMAL={simulation:{duration:25,precision:2},domain:{position:{min:0,max:500,step:50},velocity:{min:-60,max:60,step:10},posts:{min:0,max:10,step:1}},postsCount:6},n.DEFAULT_CHALLENGES=[{position:400,velocity:30,posts:[0,0,0,2,4,6]},{position:50,velocity:-30,posts:[6,5,4,3,2,1]}]},446:function(t,n){t.exports='<md-grid-list card-fill id="challenge-list-grid" cols="1" gutterSize="8px" rowHeight="fit">\n\t<md-grid-tile>\n\t\t<md-card scroll-y>\n\t\t\t<md-card-title>\n\t\t\t\tChallenge List\n\t\t\t</md-card-title>\n\t\t\t<!--\n\t\t\t<md-card-subtitle>\n\t\t\t\tEach challenge has\n\t\t\t</md-card-subtitle>\n\t\t\t-->\n\t\t\t<md-card-content>\n\t\t\t\t<md-list>\n\t\t\t\t\t<h3 md-subheader>Basic Challenges</h3>\n\t\t\t\t\t<md-list-item *ngFor="let challenge of challenges; let i = index" [routerLink]="[\'/challenges\', challenge.id]">\n\t\t\t\t\t\t<md-icon md-list-avatar>star_border</md-icon>\n\t\t\t\t\t\t<h4 md-line>{{challenge.name}}</h4>\n\t\t\t\t\t\t<p md-line class="incomplete">Incomplete (0 attempts)</p>\n\t\t\t\t\t</md-list-item>\n\n\t\t\t\t\t<h3 md-subheader>Custom Challenges</h3>\n\t\t\t\t\t<md-list-item>\n\t\t\t\t\t\t<md-icon md-list-avatar>create</md-icon>\n\t\t\t\t\t\t<h4 md-line>Create Challenge</h4>\n\t\t\t\t\t\t<p md-line>Design your own challenge</p>\n\t\t\t\t\t</md-list-item>\n\t\t\t\t\t<md-list-item>\n\t\t\t\t\t\t<md-icon md-list-avatar>file_upload</md-icon>\n\t\t\t\t\t\t<h4 md-line>Import Challenge</h4>\n\t\t\t\t\t\t<p md-line>Load a challenge from file</p>\n\t\t\t\t\t</md-list-item>\n\t\t\t\t</md-list>\n\t\t\t</md-card-content>\n\t\t</md-card>\n\t</md-grid-tile>\n</md-grid-list>\n\n\n'},447:function(t,n){t.exports="md-grid-list{height:100%}md-grid-list md-card{height:100%;width:100%;box-sizing:border-box}#challenge-list-grid p[md-line]{color:#999}#challenge-list-grid p[md-line].incomplete{color:lightcoral}#challenge-list-grid p[md-line].complete{color:lightgreen}\n"},448:function(t,n,e){"use strict";var i=e(1),o=e(256),a=e(434),r=e(423),s=e(443),l=e(449),c=e(454),d=function(){function n(t,n){this.route=t,this.storage=n;var e=this.route.snapshot.params.id;this.challenge=this.storage.getChallenge(e)}return n.prototype.ngOnInit=function(){},n=__decorate([i.Component({moduleId:t.id,selector:"challenge",template:e(455),directives:[a.MD_GRID_LIST_DIRECTIVES,r.MD_CARD_DIRECTIVES,c.TrackEditorComponent,l.GraphsComponent]}),__metadata("design:paramtypes",[o.ActivatedRoute,s.StorageService])],n)}();n.ChallengeViewerComponent=d},449:function(t,n,e){"use strict";var i=e(1),o=e(450),a=function(){function t(t){this.elementRef=t,this.activeGraph="x"}return t.prototype.ngOnInit=function(){this.element=this.elementRef.nativeElement.querySelector("chart"),this.host=d3.select(this.element),this.goalMotion=new o.Motion(this.goal.position,this.goal.velocity,this.goal.posts),this.goalMotion.execute(),this.timeDebug=JSON.stringify(this.goalMotion.getData("t")),this.positionDebug=JSON.stringify(this.goalMotion.getData("x")),this.velocityDebug=JSON.stringify(this.goalMotion.getData("v")),this.accelerationDebug=JSON.stringify(this.goalMotion.getData("a"))},t.prototype.ngAfterViewInit=function(){this.buildSVG()},t.prototype.selectGraph=function(t){this.activeGraph=t,this.buildSVG()},t.prototype.onResize=function(t){this.buildSVG()},t.prototype.buildSVG=function(){var t={top:20,right:20,bottom:30,left:50},n=this.element.clientWidth-t.left-t.right,e=this.element.clientHeight-t.top-t.bottom;this.host.html("");for(var i=this.host.append("svg").attr("width",n+t.left+t.right).attr("height",e+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")"),o=d3.scaleLinear().range([0,n]),a=d3.scaleLinear().range([e,0]),r=d3.line().x(function(t){return o(t.time)}).y(function(t){return a(t.pos)}),s=this.goalMotion.getData("t"),l=this.goalMotion.getData("x"),c=[],d=0;d<s.length;d++)c.push({time:s[d],pos:l[d]});console.log(c),o.domain(d3.extent(c,function(t){return t.time})),a.domain([0,d3.max(c,function(t){return t.pos})]),i.append("path").data([c]).attr("class","line").attr("d",r),i.append("g").attr("transform","translate(0,"+e+")").call(d3.axisBottom(o)),i.append("g").call(d3.axisLeft(a))},__decorate([i.Input(),__metadata("design:type",Object)],t.prototype,"goal",void 0),__decorate([i.Input(),__metadata("design:type",Object)],t.prototype,"trial",void 0),t=__decorate([i.Component({selector:"graphs",template:e(452),host:{"(window:resize)":"onResize($event)"},styles:[e(453)]}),__metadata("design:paramtypes",[i.ElementRef])],t)}();n.GraphsComponent=a},450:function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(451))},451:function(t,n,e){"use strict";var i=e(445),o=function(){function t(t,n,e,o){this.mode=o||i.MODE_NORMAL;var a=this.mode.domain.position.max,r=this.mode.postsCount,s=a/(r-1);this.ramps=[];for(var l=1;l<e.length;l++)this.ramps.push({end:s*l,acceleration:e[l-1]-e[l]});this.initialPosition=t,this.initialVelocity=n,this.posts=e}return t.prototype.execute=function(){var t=this.initialPosition,n=this.initialVelocity,e=this.getAccelerationAt(t);this.commitData(0,t,n,e);for(var i=1/this.mode.simulation.precision,o=this.mode.simulation.duration,a=i;a<=o;a+=i)t=t+n*i+Math.pow(i,2)*e/2,n+=e*i,e=this.getAccelerationAt(t),this.commitData(a,t,n,e)},t.prototype.getData=function(t){return this.data[t].slice()},t.prototype.getAccelerationAt=function(t){for(var n,e=0,i=this.ramps;e<i.length;e++){var o=i[e];if(n=o.acceleration,o.end>t)break}return n},t.prototype.commitData=function(t,n,e,i){0!==t&&void 0!==this.data||(this.data={t:[],x:[],v:[],a:[]}),this.data.t.push(t),this.data.x.push(n),this.data.v.push(e),this.data.a.push(i)},t}();n.Motion=o},452:function(t,n){t.exports='<md-card>\n\t<md-card-title>\n\t\tGraphs\n\t\t<div class="graph-selector">\n\t\t\t<span [class.active]="activeGraph == \'x\'" (click)="selectGraph(\'x\')">\n\t\t\t\tPosition\n\t\t\t</span>\n\t\t\t<span [class.active]="activeGraph == \'v\'" (click)="selectGraph(\'v\')">\n\t\t\t\tVelocity\n\t\t\t</span>\n\t\t\t<span [class.active]="activeGraph == \'a\'" (click)="selectGraph(\'a\')">\n\t\t\t\tAcceleration\n\t\t\t</span>\n\t\t</div>\n\t</md-card-title>\n\t<md-card-content>\n\t\t<chart></chart>\n\t\t<b>DEBUG INFO</b> <br>\n\t\tT {{timeDebug}}<br>\n\t\tX {{positionDebug}}<br>\n\t\tV {{velocityDebug}}<br>\n\t\tA {{accelerationDebug}}<br>\n\t</md-card-content>\n</md-card>\n'},453:function(t,n){t.exports=".graph-selector{display:inline-block;font-size:14px;margin-left:10px;margin-top:-4px;font-weight:600;vertical-align:middle}.graph-selector span{display:inline-block;border:1px solid black;padding:2px 8px;cursor:pointer;margin-right:-4px;white-space:nowrap}.graph-selector span.active{color:white;background:#333}.graph-selector span:hover:not(.active){background:#EAEAEA}.graph-selector span:first-child{border-radius:4px 0 0 4px}.graph-selector span:last-child{border-radius:0 4px 4px 0}chart{width:100%;height:500px;display:block}chart /deep/ .line{fill:none;stroke:steelblue;stroke-width:2px;stroke-dasharray:5 10;animation:dashing 3s linear infinite}@keyframes dashing{0%{stroke-dashoffset:90}100%{stroke-dashoffset:0}}\n"},454:function(t,n,e){"use strict";var i=e(1),o=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.trackSetup.position++,this.trackSetup.velocity--,console.log(this.trackSetup)},__decorate([i.Output(),__metadata("design:type",Object)],t.prototype,"trackSetup",void 0),t=__decorate([i.Component({selector:"track-editor",template:'\n\t\t<md-card fill>\n\t\t\t<md-card-title>Track</md-card-title>\n\t\t\t\n\t\t\t<md-card-content>\n\t\t\t\t<label>\n\t\t\t\t\tposition\t\t\t\t\n\t\t\t\t\t<input type="number" [value]="trackSetup.position">\n\t\t\t\t</label><br>\n\t\t\t\t<label>\n\t\t\t\t\tvelocity\t\t\t\t\n\t\t\t\t\t<input type="number" [value]="trackSetup.velocity">\n\t\t\t\t</label><br>\n\t\t\t\t<button (click)="show()">SHOW</button>\n\t\t\t</md-card-content>\n\t\t</md-card>\n\t'}),__metadata("design:paramtypes",[])],t)}();n.TrackEditorComponent=o},455:function(t,n){t.exports='<md-grid-list fill rowHeight="fit" cols="5" gutterSize="8px">\n\t<md-grid-tile colspan="2" rowspan="2">\n\t\t<md-card fill class="info-card">\n\t\t\t<md-card-title>\n\t\t\t\t{{ challenge.name }}\n\t\t\t\t<small>\n\t\t\t\t\tcreated by <b>Student 42</b>\n\t\t\t\t</small>\n\t\t\t</md-card-title>\n\n\t\t\t<md-card-content>\n\t\t\t\t<b>DEBUG INFO</b> <br>\n\t\t\t\tInitial Position: {{challenge.goal.position}} <br>\n\t\t\t\tInitial Velocity: {{challenge.goal.velocity}} <br>\n\t\t\t\tPosts: {{challenge.goal.posts | dump }}\n\t\t\t</md-card-content>\n\n\t\t\t<md-card-actions>\n\t\t\t\t<button md-button>\n\t\t\t\t\t<md-icon small>keyboard_backspace</md-icon>\n\t\t\t\t\tGo Back\n\t\t\t\t</button>\n\n\t\t\t\t<filler></filler>\n\n\t\t\t\t<button md-button>\n\t\t\t\t\t<md-icon small>edit</md-icon>\n\t\t\t\t\tEdit\n\t\t\t\t</button>\n\n\t\t\t\t<button md-button>\n\t\t\t\t\t<md-icon small>share</md-icon>\n\t\t\t\t\tShare\n\t\t\t\t</button>\n\t\t\t</md-card-actions>\n\t\t</md-card>\n\t</md-grid-tile>\n\n\t<md-grid-tile colspan="3" rowspan="5">\n\t\t<graphs fill [goal]="challenge.goal"></graphs>\n\t</md-grid-tile>\n\n\t<md-grid-tile colspan="2" rowspan="3">\n\t</md-grid-tile>\n\n</md-grid-list>\n'},456:function(t,n,e){"use strict";var i=e(1),o=e(256),a=function(){function n(t){this.route=t}return n.prototype.ngOnInit=function(){this.challengeId=this.route.snapshot.params.id},n=__decorate([i.Component({moduleId:t.id,selector:"challenge",template:"\n\t\tEditing Challenge ID {{ challengeId }}\n\t"}),__metadata("design:paramtypes",[o.ActivatedRoute])],n)}();n.ChallengeEditorComponent=a},457:function(t,n,e){"use strict";var i=e(1),o=function(){function t(){}return t.prototype.transform=function(t,n){return JSON.stringify(t)},t=__decorate([i.Pipe({name:"dump"}),__metadata("design:paramtypes",[])],t)}();n.DumpPipe=o},458:function(t,n){},462:458,464:458,466:458});
//# sourceMappingURL=app.21326303b692035e6231.js.map